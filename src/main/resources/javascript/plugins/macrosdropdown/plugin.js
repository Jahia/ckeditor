CKEDITOR.plugins.add("macrosdropdown",{requires:["richcombo"],init:function(a){a.ui.addRichCombo("Macros",{label:"Macros",title:"Insert macros",voiceLabel:"Insert macros",className:"cke_format",multiSelect:!1,panel:{css:[a.config.contentsCss,CKEDITOR.skin.getPath("editor")],voiceLabel:a.lang.panelVoiceLabel},init:function(){this.startGroup("Insert Macros");var a=[];$.ajax({url:window.location.protocol+"//"+window.location.host+(void 0!=jahiaGWTParameters?jahiaGWTParameters.contextPath:"")+"/cms/initializers",
data:{name:"macros",nodeuuid:contextJsParameters.siteUuid,initializers:"choicelistmacros"},success:function(b){$.each(b,function(b,c){a.push([c.name[0],c.name[0],c.name[0]])})},dataType:"json",async:!1});for(var b in a)this.add(a[b][0],a[b][1],a[b][2])},onClick:function(d){a.focus();a.fire("saveSnapshot");a.insertHtml(d);a.fire("saveSnapshot")}})}});