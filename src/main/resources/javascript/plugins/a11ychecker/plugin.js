/*
 Copyright (c) 2014-2018, CKSource - Frederico Knabben. All rights reserved.
 For licensing, see LICENSE.md or https://ckeditor.com/license
*/
!function(){var H,I,J,K,L,M,N,C,D,O,P,Q,R,E,S,F,T,G,U,V;F=function(){function a(){this.list=[]}function b(b,g){return b.element.getPosition(g.element)&CKEDITOR.POSITION_FOLLOWING?1:-1}return a.prototype={list:[],currentIndex:-1},a.prototype.constructor=a,a.prototype.each=function(b){var g=this.list;if(g.map)g.map(b,this);else for(var a=0,n=g.length;n>a;a++)b.call(this,g[a])},a.prototype.count=function(b){if(b){for(var g=b=0,g=0;g<this.list.length;g++)this.list[g].isIgnored()||(b+=1);return b}return this.list.length},
a.prototype.addItem=function(b){this.list.push(b)},a.prototype.getItem=function(b){return(b=this.list[b])?b:null},a.prototype.clear=function(){this.list.splice(0,this.list.length);this.resetFocus()},a.prototype.resetFocus=function(){if(-1!==this.currentIndex){var b=this.getFocused();this.currentIndex=-1;this.fire("focusChanged",{current:null,previous:b})}},a.prototype.getFocused=function(){return-1!=this.currentIndex?this.getItem(this.currentIndex):null},a.prototype.moveTo=function(b){if(!this.getItem(b))return!1;
var g=this.getFocused();return this.currentIndex=b,this.fire("focusChanged",{current:this.getItem(b),previous:g}),!0},a.prototype.next=function(){return this.count()?(this.currentIndex+1>this.count()-1?0!==this.currentIndex&&this.moveTo(0):this.moveTo(this.currentIndex+1),this.getFocused()):null},a.prototype.prev=function(){if(!this.count())return null;var b=this.count()-1;return 0===this.currentIndex||-1==this.currentIndex?this.currentIndex!=b&&this.moveTo(b):this.moveTo(this.currentIndex-1),this.getFocused()},
a.prototype.getIssueByElement=function(b){var g=null;return this.each(function(a){a.element.equals(b)&&(g=a)}),g},a.prototype.getIssuesByElement=function(b,g){for(var a,n,u=[],y=this.list,x=0,w=y.length;w>x;x++)a=y[x],n=!g||!a.isIgnored(),a.element.equals(b)&&n&&u.push(a);return u},a.prototype.indexOf=function(b){return CKEDITOR.tools.indexOf(this.list,b)},a.prototype.getIssueByIndex=function(b){return this.getItem(b).element},a.prototype.sort=function(){this.list.sort(b)},a.prototype.filter=function(b){return this.list=
this.list.filter(b),this.list},CKEDITOR.event.implementOn(a.prototype),a}();T=function(a){function b(){}return b.prototype={fixesMapping:{},config:{}},CKEDITOR.event.implementOn(b.prototype),b.prototype.constructor=b,b.fixes={},b.prototype.process=function(b,g,m){b=new a;return!1===this.fire("process",{issues:b,contentElement:g})?!1:(m&&m(b),!0)},b.prototype.filterIssues=function(b,a){if(this._filterIssue){var m=this;b.filter(function(b){return m._filterIssue.call(m,b,a)})}},b.prototype.getIssueDetails=
function(b,a){},b.getFixType=function(a,g){b.fixes[a]?g&&g(b.fixes[a]):(b.fixes[a]=void 0,g&&g(void 0),!0)},b.prototype.getFixes=function(b,a,m){var n=this.fixesMapping[b.id];if(n&&n.length){var u,y=[],x=function(b){y.push(b);y.length===n.length&&a(y)};for(u=0;u<n.length;u++)CKEDITOR.plugins.a11ychecker.quickFixes.getInstance({name:n[u],callback:x,issue:b,langCode:m})}else a([])},b.prototype.createConfig=function(b){return{}},b.prototype._filterIssue=null,b}(F);G=function(){function a(b,a){CKEDITOR.tools.extend(this,
b,!0);this.engine=a}return a.testability={ERROR:1,WARNING:.5,NOTICE:0},a.prototype={testability:a.testability.NOTICE,element:null,originalElement:null,details:null,engine:null,id:null,_ignored:null},a.prototype.constructor=a,a.prototype.setIgnored=function(b){var a=(this.element.data("a11y-ignore")||"").split(",");if(this._ignored=null,b)a[0]||1!==a.length?a.push(this.id):a[0]=this.id;else for(;-1!==(b=CKEDITOR.tools.indexOf(a,this.id));)a.splice(b,1);this.element.data("a11y-ignore",a.join(",")||
!1)},a.prototype.isIgnored=function(){return null===this._ignored&&(this._ignored=this.checkIgnored()),this._ignored},a.prototype.ignore=function(){this.setIgnored(!0)},a.prototype.checkIgnored=function(){var b=this.element.data("a11y-ignore")||"";return-1!==CKEDITOR.tools.indexOf(b.split(","),this.id)},a.prototype.getDetails=function(b){if(this.details)b(this.details);else{var a=this;this.engine.getIssueDetails(this,function(g){a.details=g;b(g)})}},a}();U=function(){function a(b,a,g,m){this.title=
b;this.descr=a;this.path=g||[];this.data=m}return a.prototype={},a.prototype.constructor=a,a}();H=function(a){function b(b){a.call(this,b)}b.prototype=new a;b.prototype.constructor=b;b.prototype._langDictionary={};var r={},g=[];return b.prototype.get=function(b){return b.langCode=b.langCode||"en",this.deferGetCall(b.langCode,arguments)?void 0:(CKEDITOR.plugins.a11ychecker.dev||(b.name=b.langCode+"/"+b.name),a.prototype.get.call(this,b))},b.prototype.getInstance=function(b){b=b||{};var a=b.name,g=
b.langCode||"en",r=this;this.get({name:a,callback:function(x){x=new x(b.issue);CKEDITOR.plugins.a11ychecker.dev&&(x.lang=r._langDictionary[g][a]);b.callback(x)},langCode:g})},b.prototype.deferGetCall=function(b,a){var r=CKEDITOR.tools.indexOf;return!CKEDITOR.plugins.a11ychecker.dev||this._langDictionary[b]?!1:(this._addDeferredGet(b,a),-1===r(g,b)&&(g.push(b),CKEDITOR.scriptLoader.load(this.basePath+"lang/"+b+".js")),!0)},b.prototype.add=function(b,g){return a.prototype.add.call(this,b,g)},b.prototype.lang=
function(b,a){this._langDictionary[b]=a;var g=r[b];if(g)for(var y=g.length-1;0<=y;y--)this.get.apply(this,g[y])},b.prototype._addDeferredGet=function(b,a){r[b]?r[b].push(a):r[b]=[a]},b.prototype._getDeferredGetCount=function(b){return r[b]?r[b].length:0},b.prototype._clearDeferredGetQueue=function(){r={}},b}(function(){function a(b){this.basePath=b||""}a.prototype={};a.prototype.constructor=a;var b={},r={};return a.prototype.get=function(a){var m,n,u=a.name,y=a.callback;return b[u]?void y(b[u]):(r[u]||
(r[u]=[]),r[u].push(y),void(!1!==b[u]&&(m={name:u},b[u]=!1,n=this.fire("requested",m),!1!==n&&this.requestQuickFix(a))))},a.prototype.requestQuickFix=function(b){CKEDITOR.scriptLoader.load(this.basePath+b.name+".js")},a.prototype.add=function(a,m){var n,u=r[a]||[],y=u.length;b[a]=m;for(n=0;y>n;n++)u[n](m);delete r[a]},a.prototype.setLoadedTypes=function(a){b=a},a.prototype.getLoadedTypes=function(){return b},a.prototype.getWaitingCallbacks=function(){return r},CKEDITOR.event.implementOn(a.prototype),
a}());I=function(){function a(b){this.controller=b;this._storedSel=null}return a.prototype={},a.prototype.constructor=a,a.prototype.init=function(){var b=this.controller,a=b.editor;a&&a.fire("lockSnapshot",{dontUpdate:!0});b.issues&&b.editableDecorator.markIssues(b.issues);CKEDITOR.env.chrome&&b.editor&&(this._storedSel=b.editor.getSelection().createBookmarks())},a.prototype.close=function(){var b=this.controller;b.editableDecorator.removeMarkup();b.viewerController&&b.viewerController.viewer.panel.hide();
b.issues&&b.issues.resetFocus();this._storedSel&&this.controller.editor.getSelection().selectBookmarks(this._storedSel);this.controller.editor.fire("unlockSnapshot")},a.prototype.unsetStoredSelection=function(){var b=this._storedSel;b&&(this.removeBookmark(b),this._storedSel=null)},a.prototype.removeBookmark=function(b){for(var a=0;a<b.length;a++){var g=b[a];g.startNode.remove();g.endNode&&g.endNode.remove()}},a}();J=function(){function a(b){this.controller=b}return a.prototype={},a.prototype.constructor=
a,a.prototype.init=function(){this.controller.viewerController.startListening()},a.prototype.close=function(){this.controller.viewerController.stopListening()},a}();K=function(){function a(b){this.controller=b}return a.prototype={},a.prototype.constructor=a,a.prototype.init=function(){this.controller.editor.editable().addClass("cke_loading")},a.prototype.close=function(){this.controller.editor.editable().removeClass("cke_loading")},a}();L=function(){function a(b){(this.editor=b)&&this.addListeners()}
return a.prototype={},a.prototype.constructor=a,a.prototype.testabilityClasses={0:"cke_a11yc_notice","0.5":"cke_a11yc_warning",1:"cke_a11yc_error"},a.ID_ATTRIBUTE_NAME="quail-id",a.ID_ATTRIBUTE_NAME_FULL="data-quail-id",a.INITIAL_ID_VALUE=1,a.prototype.editable=function(){return this.editor.editable()},a.prototype.markIssues=function(b){var a,g,m=b.count();for(g=0;m>g;g++)a=b.getItem(g),this.markIssueElement(a,b)},a.prototype.addListeners=function(){var b=this.editor,r=b.editable(),g=CKEDITOR.tools.bind(this.clickListener,
this);if(!r)throw Error("Editable not available");r.attachListener(r,"click",g);b.on("contentDom",function(){var a=b.editable();a.attachListener(a,"click",g)});b.dataProcessor.htmlFilter.addRules({elements:{$:function(g){return b._.a11ychecker.disableFilterStrip||delete g.attributes[a.ID_ATTRIBUTE_NAME_FULL],b.config.a11ychecker_noIgnoreData&&delete g.attributes["data-a11y-ignore"],g}}})},a.prototype.applyMarkup=function(){var b=this.editable(),r=!!this.editor.plugins.fakeobjects,g=a.INITIAL_ID_VALUE;
b.forEach(function(b){b.data(a.ID_ATTRIBUTE_NAME,g);if(r&&null!==b.data("cke-real-node-type")){var n=a.ID_ATTRIBUTE_NAME_FULL,u=g,u=String(u),y=new RegExp("(\\s+"+n+'\x3d"\\d+")',"g"),n=decodeURIComponent(b.data("cke-realelement")).replace(y,"").replace(/^(<\w+\s)/,"$1"+n+'\x3d"'+CKEDITOR.tools.htmlEncodeAttr(u)+'" ');b.data("cke-realelement",encodeURIComponent(n))}return g+=1,!0},CKEDITOR.NODE_ELEMENT,!1)},a.prototype.decorateScratchpad=function(b){b.data(a.ID_ATTRIBUTE_NAME,a.INITIAL_ID_VALUE)},
a.prototype.removeMarkup=function(){var b=this.editable(),r=!!this.editor.plugins.fakeobjects,g=this.unmarkIssueElement;b.forEach(function(b){b.removeAttribute&&b.removeAttribute(a.ID_ATTRIBUTE_NAME_FULL);if(r&&null!==b.data("cke-real-node-type")){var n=new RegExp("(\\s+"+a.ID_ATTRIBUTE_NAME_FULL+'\x3d"\\d+")',"g"),n=decodeURIComponent(b.data("cke-realelement")).replace(n,"");b.data("cke-realelement",encodeURIComponent(n))}b.hasClass("cke_a11yc_issue")&&g(b)},CKEDITOR.NODE_ELEMENT,!1)},a.prototype.clickListener=
function(b){b=b.data.getTarget();var a=this.editor._.a11ychecker;if(!b.hasClass("cke_a11yc_issue")){var g,m=b.getParents(!0);b=null;for(g=0;g<m.length;g++)if(m[g].hasClass("cke_a11yc_issue")){b=m[g];break}}b&&!b.hasClass("cke_a11yc_focused")?(a.showIssueByElement(b,function(){this.viewer.navigation.parts.next.focus()}),a.setMode(1)):a.enabled&&(a.mode.unsetStoredSelection&&a.mode.unsetStoredSelection(),a.setMode(2))},a.prototype.resolveEditorElements=function(b){var r,g,m,n,u=this.editable();m=0;
for(n=b.count();n>m;m++)r=b.getItem(m),g=r.originalElement.data(a.ID_ATTRIBUTE_NAME),g===String(a.INITIAL_ID_VALUE)?r.element=u:r.element=u.findOne("*["+a.ID_ATTRIBUTE_NAME_FULL+'\x3d"'+g+'"]')},a.prototype.markIgnoredIssue=function(b){b.element.addClass("cke_a11yc_ignored")},a.prototype.markIssueElement=function(b,a){var g=b.element,m=b.testability,n=b.isIgnored()&&!a.getIssuesByElement(g,!0).length;void 0===m&&(m=1);g.addClass("cke_a11yc_issue");n?this.markIgnoredIssue(b):(g.addClass(this.testabilityClasses[m]),
g.removeClass("cke_a11yc_ignored"))},a.prototype.unmarkIssueElement=function(b,a){var g=b.removeClass?b:b.element;a||g.removeClass("cke_a11yc_issue");g.removeClass("cke_a11yc_error").removeClass("cke_a11yc_warning").removeClass("cke_a11yc_notice").removeClass("cke_a11yc_ignored").removeClass("cke_a11yc_focused")},a}();M=function(){function a(){}return a.prototype={preferredIssue:null},a.prototype.constructor=a,a.prototype.set=function(b){this.preferredIssue=b},a.prototype.unset=function(b){this.set(null)},
a.prototype.getFromList=function(b){var r=null,g=this.preferredIssue&&this.preferredIssue.element,m=!1;return 0===b.count()?r:g?(g&&a._nodeIsRemoved(g)&&(g=a._retreiveElementFromSelection(g.getDocument())),b.each(function(b){m||(b.element.equals(g)?(m=!0,r=b):!r&&b.element.getPosition(g)&CKEDITOR.POSITION_FOLLOWING&&(r=b))}),r||b.getItem(0)):b.getItem(0)},a._retreiveElementFromSelection=function(b){return(b=b.getSelection())?b.getCommonAncestor():null},a.prototype.getFromListIndex=function(b){var a=
this.getFromList(b);return a?b.indexOf(a):null},a._nodeIsRemoved=function(b){b=b.getParents();return!(b[0]&&"html"==b[0].getName())},a}();N=function(){function a(b){this.controller=b}return a.prototype={show:function(){this.getEditorCommand().setState(CKEDITOR.TRISTATE_ON)},hide:function(){this._selectIssue();this.getEditorCommand().setState(CKEDITOR.TRISTATE_OFF)},update:function(){this.controller.issues.on("focusChanged",this.focusChanged,this)},focusChanged:function(b){b=b.data;b.previous&&this.unmarkFocus(b.previous.element);
b.current&&this.markFocus(b.current.element)},unmarkFocus:function(b){b.removeClass("cke_a11yc_focused")},markFocus:function(b){b.addClass("cke_a11yc_focused")},getEditorCommand:function(){return this.controller.editor.getCommand("a11ychecker")}},a.prototype.constructor=a,a.prototype._selectIssue=function(){var b=this.controller,a=b.issues.getFocused();a&&b._withUndoManager(function(){var g=b.editor,m=b.mode;b.editableDecorator.removeMarkup();g.getSelection().selectElement(a.element);m.unsetStoredSelection&&
m.unsetStoredSelection();g.fire("updateSnapshot");m.unsetStoredSelection&&(m._storedSel=g.getSelection().createBookmarks())})},a}();C=function(){function a(b){this.viewer=b;this.templates={};for(var a in this.templateDefinitions)this.templates[a]=new CKEDITOR.template(this.templateDefinitions[a]);this.parts={};this.lang=b.editor.lang.a11ychecker;this.build()}return a.prototype={templateDefinitions:{wrapper:'\x3cdiv class\x3d"cke_a11yc_ui_desc_wrapper"\x3e\x3c/div\x3e',title:'\x3cstrong class\x3d"cke_a11yc_ui_desc_title" aria-live\x3d"polite"\x3e\x3c/strong\x3e',
info:'\x3cp class\x3d"cke_a11yc_ui_desc_info" aria-live\x3d"polite"\x3e\x3c/p\x3e'},setTitle:function(b){this.parts.title.setHtml(b)},setInfo:function(b){this.parts.info.setHtml(b)},build:function(){this.parts={wrapper:CKEDITOR.dom.element.createFromHtml(this.templates.wrapper.output()),title:CKEDITOR.dom.element.createFromHtml(this.templates.title.output()),info:CKEDITOR.dom.element.createFromHtml(this.templates.info.output())};this.parts.title.appendTo(this.parts.wrapper);this.parts.info.appendTo(this.parts.wrapper)}},
CKEDITOR.event.implementOn(a.prototype),a}();D=function(a){function b(b,a){this.viewer=b;this.lang=a;this.templates={};for(var g in this.templateDefinitions)this.templates[g]=new CKEDITOR.template(this.templateDefinitions[g]);this.templates.counterText=new CKEDITOR.template(this.lang.navigationCounter);this.parts={};this.build()}function r(b,a){return function(g){g.data.getKeystroke()==b&&(a.call(this),g.data.preventDefault())}}var g={};return g[a.testability.ERROR]="error",g[a.testability.WARNING]=
"warning",g[a.testability.NOTICE]="notice",b.prototype={templateDefinitions:{wrapper:'\x3cdiv class\x3d"cke_a11yc_ui_navigation"\x3e\x3c/div\x3e',counter:'\x3cdiv class\x3d"cke_a11yc_ui_navigation_counter" aria-live\x3d"polite"\x3e\x3c/div\x3e',buttonWrapper:'\x3cdiv class\x3d"cke_a11yc_ui_button_wrapper"\x3e\x3c/div\x3e',button:'\x3ca href\x3d"javascript:void(0)" hidefocus\x3d"true" class\x3d"cke_a11yc_ui_button cke_a11yc_ui_{class}" role\x3d"button"\x3e\x3cspan class\x3d"cke_a11yc_ui_button"\x3e\x3cspan\x3e{text}\x3c/span\x3e\x3c/span\x3e\x3c/a\x3e'},
update:function(b,a,r){var y=g[void 0!==r?r:1];this.parts.counter.setText(this.templates.counterText.output({current:b+1,total:a,testability:this.lang.testability[void 0!==r?r:1]}));for(var x in g)this.parts.wrapper.removeClass("cke_a11yc_testability_"+g[x]);this.parts.wrapper.addClass("cke_a11yc_testability_"+y)},build:function(){this.parts={wrapper:CKEDITOR.dom.element.createFromHtml(this.templates.wrapper.output()),counter:CKEDITOR.dom.element.createFromHtml(this.templates.counter.output()),previous:CKEDITOR.dom.element.createFromHtml(this.templates.button.output({title:this.lang.navigationPrevTitle,
"class":"previous",text:this.lang.navigationPrev})),next:CKEDITOR.dom.element.createFromHtml(this.templates.button.output({title:this.lang.navigationNextTitle,"class":"next",text:this.lang.navigationNext}))};var b=CKEDITOR.dom.element.createFromHtml(this.templates.buttonWrapper.output()),a=b.clone();b.append(this.parts.previous);a.append(this.parts.next);this.parts.wrapper.append(this.parts.counter);this.parts.wrapper.append(b);this.parts.wrapper.append(a);this.parts.previous.unselectable();this.parts.next.unselectable();
b=r(32,function(b){this.fire("click")});this.parts.previous.on("keydown",b);this.parts.next.on("keydown",b);this.parts.previous.on("click",function(){this.fire("previous")},this);this.parts.next.on("click",function(){this.fire("next")},this)}},CKEDITOR.event.implementOn(b.prototype),b}(G);O=function(a){function b(b){this.viewer=b;this.templates={};for(var a in this.templateDefinitions)this.templates[a]=new CKEDITOR.template(this.templateDefinitions[a]);this.inputs={};this.parts={};this.build()}function r(b,
a){return function(r){var u=r.data.getKeystroke(),y=CKEDITOR.tools;(y.isArray(b)?-1!==y.indexOf(b,u):u==b)&&(a.call(this,r),r.data.preventDefault())}}return b.prototype={templateDefinitions:{wrapper:'\x3cdiv role\x3d"presentation" class\x3d"cke_a11yc_ui_form"\x3e\x3c/div\x3e',fieldset:'\x3cdiv role\x3d"presentation" class\x3d"cke_a11yc_ui_form_fieldset"\x3e\x3c/div\x3e',actionset:'\x3cdiv role\x3d"presentation" class\x3d"cke_a11yc_ui_form_actionset"\x3e\x3c/div\x3e',buttonWrapper:'\x3cdiv class\x3d"cke_a11yc_ui_button_wrapper {class}"\x3e\x3c/div\x3e',
button:'\x3ca href\x3d"javascript:void(0)" hidefocus\x3d"true" class\x3d"cke_a11yc_ui_button {class}" role\x3d"button"\x3e\x3cspan class\x3d"cke_a11yc_ui_button"\x3e{text}\x3c/span\x3e\x3c/a\x3e'},addInput:function(b,r){this.inputs[b]=new (a[CKEDITOR.tools.capitalize(r.type)])(b,r);this.inputs[b].wrapper.appendTo(this.parts.fieldset);this.fire("addInput",this.inputs[b])},removeInput:function(b){this.inputs[b].remove();this.fire("removeInput",this.inputs[b]);this.inputs[b]=null},setInputs:function(b){this.removeInputs();
this.inputs={};for(var a in b)this.addInput(a,b[a])},removeInputs:function(){for(var b in this.inputs)this.removeInput(b)},serialize:function(){var b={},a;for(a in this.inputs)b[a]=this.inputs[a].getValue();return b},build:function(){var b=this.viewer.editor.lang.a11ychecker;this.parts={wrapper:CKEDITOR.dom.element.createFromHtml(this.templates.wrapper.output()),fieldset:CKEDITOR.dom.element.createFromHtml(this.templates.fieldset.output()),actionset:CKEDITOR.dom.element.createFromHtml(this.templates.actionset.output()),
quickfixButton:CKEDITOR.dom.element.createFromHtml(this.templates.button.output({title:b.quickFixButtonTitle,text:b.quickFixButton,"class":"cke_a11yc_ui_button_ok"})),ignoreButton:CKEDITOR.dom.element.createFromHtml(this.templates.button.output({title:b.ignoreBtnTitle,text:b.ignoreBtn,"class":"cke_a11yc_ui_button_ignore"}))};this.parts.fieldset.appendTo(this.parts.wrapper);this.parts.actionset.appendTo(this.parts.wrapper);var b=CKEDITOR.dom.element.createFromHtml(this.templates.buttonWrapper.output({"class":"cke_a11yc_ui_button_ok_wrapper"})),
a=CKEDITOR.dom.element.createFromHtml(this.templates.buttonWrapper.output({"class":"cke_a11yc_ui_button_ignore_wrapper"}));this.parts.quickfixButton.appendTo(b);this.parts.ignoreButton.appendTo(a);b.appendTo(this.parts.actionset);a.appendTo(this.parts.actionset);this.parts.quickfixButton.on("click",function(b){this.fire("submit");b.data.preventDefault()},this);this.parts.fieldset.on("keydown",r(13,function(b){this.fire("submit")}),this);this.parts.quickfixButton.on("keydown",r(32,function(b){this.fire("submit")}),
this);this.parts.ignoreButton.on("click",function(b){this.fire("ignore");b.data.preventDefault()},this);this.parts.ignoreButton.on("keydown",function(b){32==b.data.getKeystroke()&&(b.data.preventDefault(),this.fire("ignore"))},this)},show:function(){this.parts.fieldset.show();this.parts.quickfixButton.show()},hide:function(){this.parts.fieldset.hide();this.parts.quickfixButton.hide()},setIgnored:function(b){var a=this.parts.ignoreButton;a.getFirst().setHtml(this.viewer.editor.lang.a11ychecker[b?"stopIgnoreBtn":
"ignoreBtn"]);a.setAttribute("aria-pressed",b)}},CKEDITOR.event.implementOn(b.prototype),b}(function(a){var b={Text:function(b,g){a.apply(this,arguments);this.input=CKEDITOR.dom.element.createFromHtml(this.inputTemplate.output({id:this.id}));this.input.appendTo(this.wrapper);this.setInitialValue()},Checkbox:function(b,g){a.apply(this,arguments);this.input=CKEDITOR.dom.element.createFromHtml(this.inputTemplate.output({id:this.id}));this.input.appendTo(this.wrapper);this.setInitialValue()},Select:function(b,
g){var m,n;a.apply(this,arguments);this.options={};this.input=CKEDITOR.dom.element.createFromHtml(this.inputTemplate.output({id:this.id}));for(m in g.options)n=new CKEDITOR.dom.element("option"),n.setText(g.options[m]),n.setAttribute("value",m),n.appendTo(this.input),this.options[m]=n;this.input.appendTo(this.wrapper);this.setInitialValue()}};return b.Text.prototype=CKEDITOR.tools.extend(new a,{inputTemplate:new CKEDITOR.template('\x3cinput class\x3d"cke_a11yc_ui_input cke_a11yc_ui_input_text" type\x3d"text" id\x3d{id} aria-labelledby\x3d"{id}_label" aria-required\x3d"true"\x3e')}),
b.Checkbox.prototype=CKEDITOR.tools.extend(new a,{inputTemplate:new CKEDITOR.template('\x3cinput class\x3d"cke_a11yc_ui_input cke_a11yc_ui_input_checkbox" type\x3d"checkbox" id\x3d{id} aria-labelledby\x3d"{id}_label" aria-required\x3d"true"\x3e'),getValue:function(){return this.input.$.checked}},!0),b.Select.prototype=CKEDITOR.tools.extend(new a,{inputTemplate:new CKEDITOR.template('\x3cselect class\x3d"cke_a11yc_ui_input_select" id\x3d{id} aria-labelledby\x3d"{id}_label" aria-required\x3d"true"\x3e\x3c/select\x3e')}),
b}(function(){function a(b,a){a&&(CKEDITOR.tools.extend(this,a,!0),this.name=b,this.id=CKEDITOR.tools.getNextId()+"_input",this.wrapper=CKEDITOR.dom.element.createFromHtml(this.wrapperTemplate.output({label:this.label,id:this.id})))}return a.prototype={wrapperTemplate:new CKEDITOR.template('\x3cdiv role\x3d"presentation" class\x3d"cke_a11yc_ui_input_wrapper"\x3e\x3clabel class\x3d"cke_a11yc_ui_input_label" id\x3d"{id}_label" for\x3d"{id}"\x3e{label}\x3c/label\x3e\x3c/div\x3e'),getValue:function(){return this.input.getValue()},
setValue:function(b){this.input.setValue(b)},setInitialValue:function(){void 0!==this.value&&this.setValue(this.value)},remove:function(){this.wrapper.remove()}},a}()));P=function(){function a(b){this.viewer=b;this.templates={};for(var a in this.templateDefinitions)this.templates[a]=new CKEDITOR.template(this.templateDefinitions[a]);this.parts={};this.build()}return a.prototype={templateDefinitions:{wrapper:'\x3cdiv class\x3d"cke_a11yc_ui_listening"\x3e\x3c/div\x3e',info:"\x3cp\x3e{text}\x3c/p\x3e",
button:'\x3ca href\x3d"javascript:void(0)" title\x3d"{title}" hidefocus\x3d"true" class\x3d"cke_a11yc_ui_button" role\x3d"button"\x3e\x3cspan class\x3d"cke_a11yc_ui_button"\x3e{text}\x3c/span\x3e\x3c/a\x3e'},build:function(){var b=this.viewer.editor.lang.a11ychecker;this.parts={wrapper:CKEDITOR.dom.element.createFromHtml(this.templates.wrapper.output()),info:CKEDITOR.dom.element.createFromHtml(this.templates.info.output({text:b.listeningInfo})),button:CKEDITOR.dom.element.createFromHtml(this.templates.button.output({title:b.listeningCheckAgain,
text:b.listeningCheckAgain}))};this.parts.wrapper.append(this.parts.info);this.parts.wrapper.append(this.parts.button);this.parts.button.on("click",function(){this.fire("check")},this)}},CKEDITOR.event.implementOn(a.prototype),a}();Q=function(){function a(){this.list=[]}return a.prototype={},a.prototype.constructor=a,a.prototype.count=function(){return this.list.length},a.prototype.addItem=function(b){b.on("keydown",this.keyDownListener,this);this.list.push(b);this.sort()},a.prototype.removeItem=
function(b){"number"!=typeof b&&(b=CKEDITOR.tools.indexOf(this.list,b));this.list[b].removeListener("keydown",this.keyDownListener);this.list.splice(b,1)},a.prototype.getItem=function(b){return this.list[b]},a.prototype.keyDownListener=function(b){var a=CKEDITOR.tools.indexOf(this.list,b.sender),g=b.data.getKey(),m=b.data.getKeystroke();-1!==a&&1!==this.list.length&&9==g&&(a=m&CKEDITOR.SHIFT?this.getPrev(a):this.getNext(a))&&(a.focus(),b.data.preventDefault(1),b.data.stopPropagation())},a.prototype.getNext=
function(b){var a,g=0,m=this.list.length;"number"==typeof b&&m>b+1&&(g=b+1);a=this.getItem(g);for(b=1;m-1>b&&!a.isVisible();b++)a=g+b,a>=m&&(a-=m),a=this.getItem(a);return b!=m-1||a.isVisible()?a:void 0},a.prototype.getPrev=function(b){var a,g=this.list.length,m=g-1;"number"==typeof b&&0<b&&(m=b-1);a=this.getItem(m);for(b=1;g-1>b&&!a.isVisible();b++)a=m-b,0>a&&(a=g+a),a=this.getItem(a);return b!=g-1||a.isVisible()?a:void 0},a.prototype.sort=function(){this.list.sort(this._sort)},a.prototype._sort=
function(b,a){return b.getPosition(a)&CKEDITOR.POSITION_FOLLOWING?1:-1},a}();R=function(){function a(b,a){this.viewer=b;CKEDITOR.tools.extend(this,a);this.panelShowListeners=this.panelShowListeners(b);this.activePanelShowlisteners=[]}return a.prototype={enterMode:function(){this.init&&this.init(this.viewer);this.addPanelShowListeners()},leaveMode:function(){this.close&&this.close(this.viewer);this.removePanelShowListeners()},addPanelShowListener:function(b){this.activePanelShowlisteners.push(b)},
addPanelShowListeners:function(b){if(this.panelShowListeners)for(b=0;b<this.panelShowListeners.length;b++)this.addPanelShowListener(this.viewer.panel.addShowListener(this.panelShowListeners[b]))},removePanelShowListeners:function(){for(var b;b=this.activePanelShowlisteners.pop();)b.removeListener()}},a}();C=function(a){function b(b,g){var m=b.editor;this.editor=m;var n=this.viewer=new a(m,g);this.a11ychecker=b;n.panel.on("attach",function(){if(CKEDITOR.env.chrome){var a=n.panel.parts.panel,g=new CKEDITOR.dom.range(a.getDocument()),
x=a.findOne(".cke_balloon_title");g.setStart(x,0);g.setEnd(x,0);a.getDocument().getSelection().selectRanges([g])}this.update(b.issues.getFocused())},this);n.panel.parts.close.on("click",function(b){this.a11ychecker.close()},this);n.navigation.on("previous",function(a){b.prev()});n.navigation.on("next",function(a){b.next()});n.form.on("submit",this.quickFixAccepted,null,null,8);n.form.on("ignore",b.ignoreIssue,b);n.form.on("ignore",function(){this.updateForm(b.issues.getFocused())},this);this.on("next",
function(b){n.navigation.parts.next.focus()},null,null,20);this.on("prev",function(b){n.navigation.parts.previous.focus()},null,null,20);n.listeningIndicator.on("check",function(){b.check({ui:!0});b.editor.focus()},this)}return b.prototype={update:function(b){var a=this.a11ychecker.issues;this.viewer.navigation.update(a.indexOf(b),a.count(),b.testability);this.updateDescription(b);this.updateForm(b)},updateDescription:function(b){var a=this.viewer.description;b.getDetails(function(b){a.setTitle(b.title);
a.setInfo(b.descr)})},updateForm:function(b){var a=this,m=a.viewer.form,n=a.a11ychecker.getQuickFixLang();m.setIgnored(b.isIgnored());m.setInputs({});m.hide();b.engine.getFixes(b,function(b){var r=b.length;r&&(a.quickFixSelected=b[0]);for(var x=0;r>x;x++)b[x].display(m,a.editor);r&&m.show()},n)},quickFixAccepted:function(b){var a,m=this.viewer.editor._.a11ychecker,n=m.viewerController,u=this.serialize();(n=n.quickFixSelected)?(a=n.validate(u),a.length)?(alert(a.join(",")),a=CKEDITOR.tools.objectKeys(this.inputs),
a.length&&this.inputs[a[0]].input.focus(),b.cancel()):m.applyQuickFix(n,u):(console.error("No quickfix available!"),b.cancel())},showIssue:function(b,a){b.element.scrollIntoView();this.viewer.panel.attach(b.element);a&&(a.event&&this.fire(a.event),a.callback&&a.callback.call(this))},startListening:function(){this.viewer.setMode("listening");this.viewer.panel.show();this.editor.focus()},stopListening:function(){this.viewer.panel.hide();this.viewer.setMode("checking")}},CKEDITOR.event.implementOn(b.prototype),
b}(function(a,b,r,g,m,n){function u(b,a){this.editor=b;this.panel=new CKEDITOR.ui.balloonPanel(b,a);this.focusManager=new m;this.modes={};this.mode=null;this.lang=b.lang.a11ychecker;var g=this;this.panel.registerFocusable=function(b){g.focusManager.addItem(b);g.editor.focusManager.add(b)};this.panel.deregisterFocusable=function(b){g.focusManager.removeItem(b);g.editor.focusManager.remove(b)};this.panel.addShowListener(function(){return this.parts.panel.on("keydown",function(b){27==b.data.getKeystroke()&&
(this.blur(),this.hide(),b.data.preventDefault())},this)});this.setupNavigation();this.setupDescription();this.setupForm();this.setupListeningIndicator();this.panel.registerFocusable(this.panel.parts.close);this.setupModes();this.setMode("checking");this._fixAria()}return u.SCROLL_THROTTLING_RATE=50,u.prototype={modesDefinition:{listening:{attachToViewport:function(b){b.panel.parts.panel.setStyles({right:"10px",bottom:"10px"})},attachToEditable:function(b){var a=b.editor.ui.space("contents").getClientRect(),
g=b.editor.document.getDocumentElement().getClientRect(),B=CKEDITOR.document.getWindow().getViewPaneSize();b.panel.parts.panel.setStyles({right:a.width-g.width+10+"px",bottom:B.height-a.bottom+10+"px"})},init:function(b){var a=this;b.panel.parts.panel.addClass("cke_a11yc_mode_listening");b.panel.resize(250,"auto");CKEDITOR.tools.setTimeout(function(){var g=b.panel.parts.panel.getClientRect(),B=CKEDITOR.document.getWindow().getViewPaneSize();b.panel.parts.panel.setStyles({position:"fixed",top:null,
left:null,right:B.width-g.right+"px",bottom:B.height-g.bottom+"px"});CKEDITOR.tools.setTimeout(function(){var g=b.editor.getCommand("maximize");a[g&&1===g.state?"attachToEditable":"attachToViewport"](b)},0)},0,this)},close:function(b){b.panel.parts.panel.removeClass("cke_a11yc_mode_listening");b.panel.resize(b.panel.width,b.panel.height);b.panel.parts.panel.setStyles({position:"absolute",right:null,bottom:null})},panelShowListeners:function(b){var a=this;return[function(){return this.editor.on("maximize",
function(g){a[1===g.data?"attachToEditable":"attachToViewport"](b)})}]}},checking:{panelShowListeners:function(b){return[function(){var a=b.editor,g=CKEDITOR.tools.eventsBuffer(u.SCROLL_THROTTLING_RATE,function(){var g=a._.a11ychecker.issues.getFocused();g&&b.panel.attach(g.element,!1)});return this.editor.window.on("scroll",g.input)},function(){return this.editor.on("resize",function(){this.blur();this.hide()},this)}]}}},setupNavigation:function(){this.navigation=new b(this,this.editor.lang.a11ychecker);
this.panel.registerFocusable(this.navigation.parts.previous);this.panel.registerFocusable(this.navigation.parts.next);this.panel.parts.content.append(this.navigation.parts.wrapper)},setupDescription:function(){this.description=new a(this);this.panel.parts.content.append(this.description.parts.wrapper)},setupForm:function(){this.form=new r(this,this.editor.lang.a11ychecker);this.form.on("addInput",function(b){this.panel.registerFocusable(b.data.input)},this);this.form.on("removeInput",function(b){this.panel.deregisterFocusable(b.data.input)},
this);this.panel.registerFocusable(this.form.parts.ignoreButton);this.panel.registerFocusable(this.form.parts.quickfixButton);this.panel.parts.content.append(this.form.parts.wrapper)},setupListeningIndicator:function(){this.listeningIndicator=new g(this);this.panel.registerFocusable(this.listeningIndicator.parts.button);this.panel.parts.content.append(this.listeningIndicator.parts.wrapper)},setupModes:function(){for(var b in this.modesDefinition)this.modes[b]=new n(this,this.modesDefinition[b])},
setMode:function(b){this.mode&&this.modes[this.mode].leaveMode();this.modes[b].enterMode();this.mode=b},_fixAria:function(){var b=this.panel.parts.panel,a=CKEDITOR.tools.getNextId(),g=CKEDITOR.tools.getNextId(),B=CKEDITOR.tools.getNextId();this.panel.parts.title.setAttribute("id",a);this.navigation.parts.counter.setAttribute("id",g);this.description.parts.wrapper.setAttribute("id",B);b.setAttribute("aria-labelledby",a+" "+g);b.setAttribute("aria-describedby",B)}},u}(C,D,O,P,Q,R));D=function(){function a(b){if(this.controller=
b,b){var r=a.parseConfig(b.editor.config.a11ychecker_keystrokes);this.setEditorHotkeys(b.editor,r);this.setBalloonHotkeys(b.viewerController,r)}}return a.prototype={},a.prototype.constructor=a,a.prototype.setEditorHotkeys=function(b,a){for(var g in a)b.setKeystroke(Number(g),a[g])},a.prototype.setBalloonHotkeys=function(b,a){var g=this,m=g.controller.editor,n=b.viewer.panel,u=n.parts.panel;n.addShowListener(function(){return u.on("keydown",g.getBalloonKeydown(m,a))})},a.prototype.getBalloonKeydown=
function(b,a){return function(g){var m=a[g.data.getKeystroke()];m&&(b.execCommand(m),g.data.preventDefault())}},a.parseConfig=function(b){var a,g={},m=b||{},n={open:CKEDITOR.CTRL+CKEDITOR.ALT+69,next:CKEDITOR.CTRL+69,prev:CKEDITOR.CTRL+CKEDITOR.SHIFT+69,listen:CKEDITOR.SHIFT+27,close:27};for(a in n)void 0===m[a]&&(m[a]=n[a]),b="open"==a?"":"."+a,g[m[a]]="a11ychecker"+b;return g},a}();E=function(){function a(){}return a.getPreferredLanguage=function(b,a,g,m){m=m||window.navigator;b=[b,a,"en"];a=/([a-z]+)(?:-([a-z]+))?/;
var n=m.language||m.userLanguage;m=CKEDITOR.tools.indexOf;n&&b.splice(1,0,n);for(var n=0,u=b.length;u>n;n++)if(b[n]){var y=b[n].toLowerCase(),x=y.match(a),w=x[1];if(x[2]&&-1!==m(g,y))return y;if(-1!==m(g,w))return w}return null},a}();S=function(a,b,r,g,m,n,u,y,x){function w(b){this._={};this.editor=b;this.editableDecorator=new g(this.editor);this.ui=new n(this);this.preferredIssueFinder=new m;b&&(this.viewerController=new u(this,{title:b.lang.a11ychecker.balloonLabel}),this.attachEditorListeners(b),
this.hotkeyManager=new y(this))}return w.modes={CHECKING:1,LISTENING:2,BUSY:3},w.prototype={issues:null,viewerController:null,enabled:!1,disableFilterStrip:!1},w.prototype.constructor=w,w.prototype.setEngine=function(b){this.engine=b},w.prototype.exec=function(b){return this.enabled?void this.close():(this.issues&&this.issues.clear(),this.enable(),void this.check({ui:!0,callback:b}))},w.prototype.listen=function(){if(this.enabled){var b=w.modes;if(this.modeType===b.LISTENING)this.check();else{var a=
this.issues.getFocused()&&this.issues.getFocused().element;this.setMode(b.LISTENING);a&&this.editor.getSelection().selectElement(a)}}},w.prototype.check=function(b){b=b||{};var a,g=this,m=g.editor;this.setMode(w.modes.BUSY);b.ui&&this.ui.show();a=this.getTempOutput();this.editableDecorator.applyMarkup();this.editableDecorator.decorateScratchpad(a);this.disableFilterStrip=!0;a.setHtml(m.getData());this.disableFilterStrip=!1;CKEDITOR.document.getBody().append(a);this.engine.process(this,a,function(a){g._engineProcessed.call(g,
a,b)})},w.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.fire("disabled"))},w.prototype.enable=function(){this.enabled||(this.enabled=!0,this.fire("enabled"),this.setMode(w.modes.CHECKING))},w.prototype.next=function(b){var a;0!==this.issues.count()&&(a=this.issues.next(),this.viewerController.showIssue(a,{event:"next",callback:b}))},w.prototype.prev=function(b){var a;0!==this.issues.count()&&(a=this.issues.prev(),this.viewerController.showIssue(a,{event:"prev",callback:b}))},w.prototype.showIssue=
function(b,a){var g,m,x=this.issues,n=b,r=function(){this.viewer.navigation.parts.next.focus();a&&a.call(this)};return"number"!=typeof n&&(n=x.indexOf(n)),g=x.getItem(n),g&&g==x.getFocused()?(r.call(this.viewerController),!0):(m=x.moveTo(n),m&&this.viewerController&&this.viewerController.showIssue(x.getItem(n),{callback:r}),m)},w.prototype.showIssueByElement=function(b,a){var g=this.issues.getIssueByElement(b);return g?this.showIssue(g,a):!1},w.prototype.ignoreIssue=function(){var b=this.issues.getFocused();
b&&(b.setIgnored(!b.isIgnored()),this.editableDecorator.markIssueElement(b,this.issues))},w.prototype.close=function(){this.enabled&&(this.ui.hide(),this.disable(),this.issues.clear(),this.preferredIssueFinder.unset(),this.mode.close(),this.mode=null,this.modeType=null)},w.prototype.setMode=function(g){var m,n={};if(n[w.modes.CHECKING]=a,n[w.modes.LISTENING]=b,n[w.modes.BUSY]=r,m=n[g],!m)throw Error("Invalid mode value, use Controller.modes members");g!==this.modeType&&(this.mode&&this.mode.close(),
this.mode=new m(this),this.mode.init(),this.modeType=g)},w.prototype.attachEditorListeners=function(b){var a=this,g="a11ychecker a11ychecker.listen a11ychecker.next a11ychecker.prev a11ychecker.close wysiwyg source".split(" ");b.on("beforeSetMode",function(){a.close()});b.on("beforeCommandExec",function(b){-1===CKEDITOR.tools.indexOf(g,String(b.data.name))&&a.enabled&&a.setMode(w.modes.LISTENING)},null,null,9999)},w.prototype.applyQuickFix=function(b,a){this._withUndoManager(function(){var a=this.mode,
g=this.editor;this.editableDecorator.removeMarkup();b.markSelection(g,g.getSelection());a.unsetStoredSelection&&a.unsetStoredSelection();this.editor.fire("updateSnapshot")});b.fix(a,CKEDITOR.tools.bind(this._onQuickFix,this))},w.prototype._onQuickFix=function(b){this._withUndoManager(function(){this.editor.fire("saveSnapshot")});!1!==this.fire("fixed",{quickFix:b,issue:b.issue},this.editor)&&this.check({ui:!0})},w.prototype._setIssueList=function(b){var a=this;b.sort();b.on("focusChanged",function(b){(b=
b.data.current)&&a.preferredIssueFinder.set(b)});a.issues=b},w.prototype.onNoIssues=function(){alert(this.editor.lang.a11ychecker.noIssuesMessage);this.close()},w.prototype.getTempOutput=function(){var b=this._;return b.scratchpad||(b.scratchpad=CKEDITOR.document.createElement("div"),b.scratchpad.setStyle("display","none")),b.scratchpad},w.prototype.getQuickFixLang=function(){var b=this.editor,a=b.config,b=b.plugins.a11ychecker.quickFixesLang.split(",");return x.getPreferredLanguage(a.language,a.defaultLanguage,
b)||b[0]},w.prototype._engineProcessed=function(b,a){var g,m;this.editableDecorator.resolveEditorElements(b);this._setIssueList(b);this.setMode(w.modes.CHECKING);a.ui&&this.ui.update();g=this.fire("checked",{issues:b});a.callback&&a.callback.call(this,!0===b.count(!0),b);!1!==g&&(b.count()?(m=this.preferredIssueFinder.getFromListIndex(b)||0,m>=b.count()&&(m=0),this.showIssue(b.getItem(m))):this.onNoIssues())},w.prototype._withUndoManager=function(b){var a=this.editor,g=!!a.undoManager.locked;g&&a.fire("unlockSnapshot");
b.call(this);g&&a.fire("lockSnapshot",{dontUpdate:!0})},CKEDITOR.event.implementOn(w.prototype),w}(I,J,K,L,M,N,C,D,E);V=function(){function a(){}return a.prototype={guideline:"aAdjacentWithSameResourceShouldBeCombined aImgAltNotRepetitive aLinksAreSeparatedByPrintableCharacters aMustNotHaveJavascriptHref aSuspiciousLinkText blockquoteNotUsedForIndentation documentVisualListsAreMarkedUp headerH1 headerH2 headerH3 headerH4 imgAltIsDifferent imgAltIsTooLong imgAltNotEmptyInAnchor imgAltTextNotRedundant imgHasAlt imgShouldNotHaveTitle pNotUsedAsHeader tableDataShouldHaveTh imgWithEmptyAlt".split(" ")},
a}();(function(){function a(b){return u(b)?n(b,"a11ychecker.next","next"):void 0}function b(b){return u(b)?n(b,"a11ychecker.prev","prev"):void 0}function r(b){return n(b,"a11ychecker","exec")}function g(b){return b._.a11ychecker.listen()}function m(b){return b._.a11ychecker.close()}function n(b,a,g){return b._.a11ychecker[g](function(){b.fire("afterCommandExec",{name:a,command:b.getCommand(a),commandData:{}})})}function u(b){return(b=b._.a11ychecker)&&b.modeType===b.constructor.modes.CHECKING}function y(b){var a=
this.config,g=a.contentsCss;CKEDITOR.tools.isArray(g)||(a.contentsCss=g?[g]:[]);a.contentsCss.push(b)}CKEDITOR.plugins.add("a11ychecker",{requires:"balloonpanel",lang:"en,nl,de,pt-br",quickFixesLang:"en,nl,de,pt-br",icons:"a11ychecker",hidpi:!0,onLoad:function(){var b=this.path;CKEDITOR.document.appendStyleSheet(b+"skins/"+this.getStylesSkinName()+"/a11ychecker.css");CKEDITOR.tools.extend(CKEDITOR.plugins.a11ychecker,{Engine:T,Issue:G,IssueList:F,IssueDetails:U});CKEDITOR.plugins.a11ychecker.quickFixes=
new H(b+"quickfix/")},beforeInit:function(b){var a=this;b.config.a11ychecker_noIgnoreData||b.filter.allow("*[data-a11y-ignore]","a11ychecker");this.createTemporaryNamespace(b);b.once("instanceReady",function(){!function(g){var m=new g(b),n=b._.a11ychecker;b._.a11ychecker=m;n.getEngineType(function(g){m.setEngine(new g(a));m.engine.config=m.engine.createConfig(b);n.fire("loaded",null,b)})}(S)});a.commandRegister.call(a,b);a.guiRegister(b)},guiRegister:function(b){var a=this.path+"skins/"+this.getStylesSkinName()+
"/contents.css",g=b.addContentsCss||y;b.ui.addButton&&b.ui.addButton("A11ychecker",{label:b.lang.a11ychecker.toolbar,command:"a11ychecker",toolbar:"document,10"});g.call(b,a)},commandRegister:function(n){n.addCommand("a11ychecker",{exec:r,async:!0,canUndo:!1,editorFocus:!1});n.addCommand("a11ychecker.listen",{exec:g,canUndo:!1,editorFocus:!1});n.addCommand("a11ychecker.next",{exec:a,async:!0,canUndo:!1,editorFocus:!1});n.addCommand("a11ychecker.prev",{exec:b,async:!0,canUndo:!1,editorFocus:!1});n.addCommand("a11ychecker.close",
{exec:m})},createTemporaryNamespace:function(b){b._.a11ychecker={getEngineType:function(b){function a(b){this.jsonPath=(b?b.path:"")+"libs/quail/"}var g=CKEDITOR.plugins.a11ychecker,m=g.Engine,n=g.IssueList,r=g.Issue,u=g.IssueDetails,x=window.jQuery||window.$;!0;(function(){if(!x||!x.fn)throw Error("Missing jQuery. Accessibility Checker's default engine, Quail.js requires jQuery to work correctly.");x.fn.quail||!function(b){Function.prototype.bind=Function.prototype.bind||function(b){if("function"!=
typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var a=Array.prototype.slice,f=a.call(arguments,1),e=this,h=function(){},k=function(){return e.apply(this instanceof h?this:b||window,f.concat(a.call(arguments)))};return h.prototype=this.prototype,k.prototype=new h,k};var a={options:{},components:{},lib:{},testabilityTranslation:{0:"suggestion","0.5":"moderate",1:"severe"},html:null,strings:{},accessibilityResults:{},accessibilityTests:null,guidelines:{wcag:{setup:function(b,
a,f){f=f||{};for(var e in this.successCriteria)if(this.successCriteria.hasOwnProperty(e)){var h=this.successCriteria[e];h.registerTests(b);a&&a.listenTo&&"function"==typeof a.listenTo&&f.successCriteriaEvaluated&&a.listenTo(h,"successCriteriaEvaluated",f.successCriteriaEvaluated)}},successCriteria:{}}},tests:{},textSelector:":not(:empty)",suspectPHeaderTags:"strong b em i u font".split(" "),suspectPCSSStyles:["color","font-weight","font-size","font-family"],focusElements:"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",
emoticonRegex:/((?::|;|B|P|=)(?:-)?(?:\)|\(|o|O|D|P))/g,selfClosingTags:"area base br col command embed hr img input keygen link meta param source track wbr".split(" "),optionalClosingTags:["p","li","th","tr","td"],run:function(d){function c(b,d,a){if(a.guideline&&a.guideline.length){b.tests=b.lib.TestCollection([],{scope:b.html||null});for(var e=0,c=a.guideline.length;c>e;++e){var f=a.guideline[e];d[f]&&(d[f].scope=b.html||null,b.tests.set(f,d[f]))}}else b.tests=b.lib.TestCollection(d,{scope:b.html||
null})}function f(){if("undefined"!=typeof d.customTests)for(var b in d.customTests)d.customTests.hasOwnProperty(b)&&(d.customTests[b].scope=a.html||null,a.tests.set(b,d.customTests[b]));b=function(){};for(var e in a.guidelines)a.guidelines[e]&&"function"==typeof a.guidelines[e].setup&&a.guidelines[e].setup(a.tests,this,{successCriteriaEvaluated:d.successCriteriaEvaluated||b});a.tests.run({preFilter:d.preFilter||function(){},caseResolve:d.caseResolve||function(){},testComplete:d.testComplete||function(){},
testCollectionComplete:d.testCollectionComplete||function(){},complete:d.complete||function(){}})}if(d.reset&&(a.accessibilityResults={}),a.tests=a.lib.TestCollection([],{scope:a.html||null}),"undefined"!=typeof quailBuilderTests)a.tests=a.lib.TestCollection(quailBuilderTests,{scope:a.html||null}),f.call(a);else if("wcag2"===d.guideline)a.lib.wcag2.run(d);else if(d.accessibilityTests)c(a,d.accessibilityTests,d),f.call(a);else{var e=d.jsonPath;"string"==typeof d.guideline&&(e+="/guidelines/"+d.guideline);
b.ajax({url:e+"/tests.json",dataType:"json",success:function(b){"object"==typeof b&&(c(a,b,d),f.call(a))},error:function(){throw Error("Tests could not be loaded");}})}},listenTo:function(b,a,f){f=f.bind(this);b.registerListener.call(b,a,f)},getConfiguration:function(b){return(b=(b=(b=(b=this.tests.find(b))&&b.get("guidelines"))&&this.options.guidelineName&&b[this.options.guidelineName])&&b.configuration)?b:!1},isUnreadable:function(b){return"string"!=typeof b?!0:b.trim().length?!1:!0},isDataTable:function(d){if(3>
d.find("tr").length)return!1;if(d.find("th[scope]").length)return!0;var a=d.find("tr:has(td)").length,f=d.find("td[rowspan], td[colspan]"),e=!0;if(f.length){var h={};f.each(function(){"undefined"==typeof h[b(this).index()]&&(h[b(this).index()]=0);h[b(this).index()]++});b.each(h,function(b,d){a>d&&(e=!1)})}d=d.find("table");if(d.length){var k={};d.each(function(){var d=b(this).parent("td").index();!1!==d&&"undefined"==typeof k[d]&&(k[d]=0);k[d]++});b.each(k,function(b,d){a>d&&(e=!1)})}return e},getTextContents:function(b){if(b.is("p, pre, blockquote, ol, ul, li, dl, dt, dd, figure, figcaption"))return b.text();
var a="";b=b[0].childNodes;for(var f=0,e=b.length;e>f;f+=1)3===b[f].nodeType&&(a+=b[f].nodeValue);return a},validURL:function(b){return-1===b.search(" ")},cleanString:function(b){return b.toLowerCase().replace(/^\s\s*/,"")},containsReadableText:function(d,c){if((d=d.clone(),d.find("option").remove(),!a.isUnreadable(d.text()))||!a.isUnreadable(d.attr("alt")))return!0;if(c){var f=!1;if(d.find("*").each(function(){a.containsReadableText(b(this),!0)&&(f=!0)}),f)return!0}return!1}};if(window&&(window.quail=
a),b.fn.quail=function(b){return this.length?(a.options=b,a.html=this,a.run(b),this):this},b.expr[":"].quailCss=function(d,a,f){a=f[3].split(/\s*=\s*/);return-1<b(d).css(a[0]).search(a[1])},a.components.acronym=function(d,a,f){a.get("$scope").each(function(){var d=b(this),h={},k={};d.find("acronym[title], abbr[title]").each(function(){k[b(this).text().toUpperCase().trim()]=b(this).attr("title")});d.find("p, div, h1, h2, h3, h4, h5").each(function(){var d=b(this),e=d.text().split(" "),p=[];1<e.length&&
d.text().toUpperCase()!==d.text()?(b.each(e,function(b,d){2>d.length||(d=d.replace(/[^a-zA-Zs]/,""),d.toUpperCase()===d&&"undefined"==typeof k[d.toUpperCase().trim()]&&("undefined"==typeof h[d.toUpperCase()]&&p.push(d),h[d.toUpperCase()]=d))}),a.add(f(p.length?{element:this,expected:d.closest(".quail-test").data("expected"),info:{acronyms:p},status:"failed"}:{element:this,expected:d.closest(".quail-test").data("expected"),status:"passed"}))):a.add(f({element:this,expected:d.closest(".quail-test").data("expected"),
status:"passed"}))})})},a.components.color=function(){function d(d){return""!==b.trim(d)}var c={cache:{},getLuminosity:function(b,d){var a="getLuminosity_"+b+"_"+d;if(b=c.parseColor(b),d=c.parseColor(d),void 0!==c.cache[a])return c.cache[a];var k,t,l=b.r/255,p=b.g/255,q=b.b/255,l=.03928>=l?l/12.92:Math.pow((l+.055)/1.055,2.4),p=.03928>=p?p/12.92:Math.pow((p+.055)/1.055,2.4),q=.03928>=q?q/12.92:Math.pow((q+.055)/1.055,2.4),v=d.r/255,g=d.g/255,A=d.b/255,v=.03928>=v?v/12.92:Math.pow((v+.055)/1.055,2.4),
g=.03928>=g?g/12.92:Math.pow((g+.055)/1.055,2.4),A=.03928>=A?A/12.92:Math.pow((A+.055)/1.055,2.4);return k=.2126*l+.7152*p+.0722*q,t=.2126*v+.7152*g+.0722*A,c.cache[a]=Math.round((Math.max(k,t)+.05)/(Math.min(k,t)+.05)*10)/10,c.cache[a]},fetchImageColorAtPixel:function(b,d,a){d="undefined"!=typeof d?d:1;a="undefined"!=typeof a?a:1;var c=document.createElement("canvas").getContext("2d");c.drawImage(b,0,0);b=c.getImageData(d,a,1,1).data;return"rgb("+b[0]+","+b[1]+","+b[2]+")"},testElmContrast:function(b,
d,a){var k=c.getColor(d,"background");return c.testElmBackground(b,d,k,a)},testElmBackground:function(b,d,a,k){var t,l=c.getColor(d,"foreground");return"wcag"===b?t=c.passesWCAGColor(d,l,a,k):"wai"===b&&(t=c.passesWAIColor(l,a)),t},passesWCAGColor:function(b,d,h,k){var t=a.components.convertToPx(b.css("fontSize"));"undefined"==typeof k&&(18<=t?k=3:(b=b.css("fontWeight"),k=14<=t&&("bold"===b||700<=parseInt(b,10))?3:4.5));return c.getLuminosity(d,h)>k},passesWAIColor:function(b,d){var a=c.getWAIErtContrast(b,
d),k=c.getWAIErtBrightness(b,d);return 500<a&&125<k},getWAIErtContrast:function(b,d){var a=c.getWAIDiffs(b,d);return a.red+a.green+a.blue},getWAIErtBrightness:function(b,d){var a=c.getWAIDiffs(b,d);return(299*a.red+587*a.green+114*a.blue)/1E3},getWAIDiffs:function(b,d){return{red:Math.abs(b.r-d.r),green:Math.abs(b.g-d.g),blue:Math.abs(b.b-d.b)}},getColor:function(d,a){var h=c;d.attr("data-cacheId")||d.attr("data-cacheId","id_"+Math.random());var k="getColor_"+a+"_"+d.attr("data-cacheId");if(void 0!==
c.cache[k])return c.cache[k];if("foreground"===a)return c.cache[k]=d.css("color")?d.css("color"):"rgb(0,0,0)",c.cache[k];var t=d.css("background-color");return c.hasBackgroundColor(t)?(c.cache[k]=t,c.cache[k]):(d.parents().each(function(){var d=b(this).css("background-color");return c.hasBackgroundColor(d)?h.cache[k]=d:void 0}),c.cache[k]="rgb(255,255,255)",c.cache[k])},getForeground:function(b){return c.getColor(b,"foreground")},parseColor:function(b){return"object"==typeof b?b:"#"===b.substr(0,
1)?{r:parseInt(b.substr(1,2),16),g:parseInt(b.substr(3,2),16),b:parseInt(b.substr(5,2),16),a:!1}:"rgb"===b.substr(0,3)?(b=b.replace("rgb(","").replace("rgba(","").replace(")","").split(","),{r:b[0],g:b[1],b:b[2],a:"undefined"==typeof b[3]?!1:b[3]}):void 0},getBackgroundImage:function(d){d.attr("data-cacheId")||d.attr("data-cacheId","id_"+Math.random());var a="getBackgroundImage_"+d.attr("data-cacheId");if(void 0!==c.cache[a])return c.cache[a];for(d=d[0];d&&1===d.nodeType&&"BODY"!==d.nodeName&&"HTML"!==
d.nodeName;){var h=b(d).css("background-image");if(h&&"none"!==h&&-1!==h.search(/^(.*?)url(.*?)$/i))return c.cache[a]=h.replace("url(","").replace(/['"]/g,"").replace(")",""),c.cache[a];d=d.parentNode}return c.cache[a]=!1,!1},getBackgroundGradient:function(d){d.attr("data-cacheId")||d.attr("data-cacheId","id_"+Math.random());var a="getBackgroundGradient_"+d.attr("data-cacheId");if(void 0!==c.cache[a])return c.cache[a];var h=function(d){return""!==b.trim(d)};for(d=d[0];d&&1===d.nodeType&&"BODY"!==
d.nodeName&&"HTML"!==d.nodeName&&!c.hasBackgroundColor(b(d).css("background-color"));){var k=b(d).css("backgroundImage");if(k&&"none"!==k&&-1!==k.search(/^(.*?)gradient(.*?)$/i)&&(k=k.match(/gradient(\(.*\))/g),0<k.length))return k=k[0].replace(/(linear|radial|from|\bto\b|gradient|top|left|bottom|right|\d*%)/g,""),c.cache[a]=b.grep(k.match(/(rgb\([^\)]+\)|#[a-z\d]*|[a-z]*)/g),h),c.cache[a];d=d.parentNode}return c.cache[a]=!1,!1},getAverageRGB:function(b){var d=b.src;if(void 0!==c.cache[d])return c.cache[d];
var a,k,t,l={r:0,g:0,b:0};k=document.createElement("canvas");var p=k.getContext&&k.getContext("2d"),q=-4,v={r:0,g:0,b:0,a:0},g=0;if(!p)return c.cache[d]=l,l;t=k.height=b.height;k=k.width=b.width;p.drawImage(b,0,0);try{a=p.getImageData(0,0,k,t)}catch(A){return c.cache[d]=l,l}for(b=a.data.length;(q+=20)<b;)++g,v.r+=a.data[q],v.g+=a.data[q+1],v.b+=a.data[q+2];return v.r=~~(v.r/g),v.g=~~(v.g/g),v.b=~~(v.b/g),c.cache[d]=v,v},colorToHex:function(b){var d=/rgba?\((\d+), (\d+), (\d+)/.exec(b);return d?"#"+
(16777216|d[1]<<16|d[2]<<8|d[3]).toString(16).substr(1):b},hasBackgroundColor:function(b){return"rgba(0, 0, 0, 0)"!==b&&"transparent"!==b},traverseVisualTreeForBackground:function(a,e){a.attr("data-cacheId")||a.attr("data-cacheId","id_"+Math.random());var h="traverseVisualTreeForBackground_"+a.attr("data-cacheId")+"_"+e;if(void 0!==c.cache[h])return c.cache[h];var k,t=[];a[0].scrollIntoView();var l=a.offset().left-b(window).scrollLeft(),p=a.offset().top-b(window).scrollTop();t.push({element:a,visibility:a.css("visibility")});
a.css("visibility","hidden");for(var q=document.elementFromPoint(l,p);void 0===k&&q&&"BODY"!==q.tagName&&"HTML"!==q.tagName;){var q=b(q),g,z=q.css("backgroundColor");switch(e){case "background-color":c.hasBackgroundColor(z)&&(k=z);break;case "background-gradient":if(c.hasBackgroundColor(z)){k=!1;continue}if(g=q.css("backgroundImage"),g&&"none"!==g&&-1!==g.search(/^(.*?)gradient(.*?)$/i))z=g.match(/gradient(\(.*\))/g),0<z.length&&(z=z[0].replace(/(linear|radial|from|\bto\b|gradient|top|left|bottom|right|\d*%)/g,
""),k=b.grep(z.match(/(rgb\([^\)]+\)|#[a-z\d]*|[a-z]*)/g),d));break;case "background-image":if(c.hasBackgroundColor(z)){k=!1;continue}(g=q.css("backgroundImage"))&&"none"!==g&&-1!==g.search(/^(.*?)url(.*?)$/i)&&(k=g.replace("url(","").replace(/['"]/g,"").replace(")",""))}t.push({element:q,visibility:q.css("visibility")});q.css("visibility","hidden");q=document.elementFromPoint(l,p)}for(l=0;l<t.length;l++)t[l].element.css("visibility",t[l].visibility);return c.cache[h]=k,k},getBehindElementBackgroundColor:function(b){return c.traverseVisualTreeForBackground(b,
"background-color")},getBehindElementBackgroundGradient:function(b){return c.traverseVisualTreeForBackground(b,"background-gradient")},getBehindElementBackgroundImage:function(b){return c.traverseVisualTreeForBackground(b,"background-image")}};return{colors:c,textShouldBeTested:function(d){d=d.parentNode;var e=b(d);return 1!==d.nodeType?!1:-1!=="script style title object applet embed template noscript".split(" ").indexOf(d.nodeName.toLowerCase())?!1:a.isUnreadable(e.text())?!1:!0},postInvoke:function(b){var d=
{};b=b.groupCasesBySelector();for(var a in b)b.hasOwnProperty(a)&&b[a].each(function(b,c){c.get("status")===d&&(d[a]="")});return Object.keys(d).length===Object.keys(b).length},buildCase:function(b,d,c,k,t,l){b.add(d({element:c,expected:a.components.resolveExpectation(c,t),message:l,status:k}))}}}(),a.components.content={findContent:function(d){var a=d;return d.is("[role\x3dmain]")?d:d.find("[role\x3dmain]").length?d.find("[role\x3dmain]").first():0===d.find("p").length?d:(d.find("p").each(function(){var d=
b(this).parent(),e=d.get(0),h=d.data("content-score")||0;d.data("content-score")||(h=d.find("p").length,e.className.match(/(comment|meta|footer|footnote)/)?h-=50:e.className.match(/((^|\\s)(post|hentry|entry[-]?(content|text|body)?|article[-]?(content|text|body)?)(\\s|$))/)&&(h+=25),e.id.match(/(comment|meta|footer|footnote)/)?h-=50:e.id.match(/^(post|hentry|entry[-]?(content|text|body)?|article[-]?(content|text|body)?)$/)&&(h+=25),d.data("content-score",h));h+=b(this).text().split(",").length;("undefined"==
typeof a.data("content-score")||h>a.data("content-score"))&&(a=d)}),a)}},a.components.convertToPx=function(d){if(-1<d.search("px"))return parseInt(d,10);d=b('\x3cdiv style\x3d"display: none; font-size: 1em; margin: 0; padding:0; height: '+d+'; line-height: 1; border:0;"\x3e\x26nbsp;\x3c/div\x3e').appendTo(a.html);var c=d.height();return d.remove(),c},a.components.event=function(d,a,f,e){var h=a.get("$scope"),h=e.selector&&h.find(e.selector)||h.find("*"),k=e.searchEvent||"",t=e.correspondingEvent||
"";h.each(function(){var e,h=k.replace("on",""),q=d.components.hasEventListener(b(this),h);b._data&&(e=b._data(this,"events"));e=e&&e[h]&&!!e[h].length;var h=!!t.length,g=d.components.hasEventListener(b(this),t.replace("on","")),z=b(this).closest(".quail-test").data("expected");a.add(f({element:this,expected:z})).set(!q&&!e||h&&g?{status:"passed"}:{status:"failed"})})},a.components.hasEventListener=function(d,a){return"undefined"!=typeof b(d).attr("on"+a)?!0:b._data(b(d)[0],"events")&&"undefined"!=
typeof b._data(b(d)[0],"events")[a]?!0:b(d).is("a[href], input, button, video, textarea")&&"undefined"!=typeof b(d)[0][a]&&("click"===a||"focus"===a)&&-1<b(d)[0][a].toString().search(/^\s*function\s*(\b[a-z$_][a-z0-9$_]*\b)*\s*\((|([a-z$_][a-z0-9$_]*)(\s*,[a-z$_][a-z0-9$_]*)*)\)\s*{\s*\[native code\]\s*}\s*$/i)?!1:"undefined"!=typeof b(d)[0][a]},a.components.headingLevel=function(d,a,f,e){var h=!1;a.get("$scope").find(":header").each(function(){var k=parseInt(b(this).get(0).tagName.substr(-1,1),10);
a.add(f(h===e.headingLevel&&k>h+1?{element:this,expected:d.components.resolveExpectation(this),status:"failed"}:{element:this,expected:d.components.resolveExpectation(this),status:"passed"}));h=k})},a.components.htmlSource={getHtml:function(d){if("undefined"!=typeof a.options.htmlSource&&a.options.htmlSource)return void d(a.options.htmlSource,this.parseHtml(a.options.htmlSource));var c=b.ajax({url:window.location.href,async:!1});c&&"undefined"!=typeof c.responseText&&d(c.responseText,this.parseHtml(c.responseText))},
traverse:function(d,a,f,e){var h=this;"undefined"==typeof e&&a(d,f,!1);"undefined"!=typeof d.children&&(d.childCount=1,b.each(d.children,function(b,e){a(e,d.childCount,d);h.traverse(e,a,d.childCount,!0);"tag"===e.type&&d.childCount++}));b.isArray(d)&&b.each(d,function(b,d){h.traverse(d,a)})},addSelector:function(b,a,f){if("tag"===b.type&&"undefined"!=typeof b.name&&"undefined"==typeof b.selector)return b.selector=f&&"undefined"!=typeof f.selector?f.selector.slice():[],f=b.name,"undefined"!=typeof b.attributes&&
("undefined"!=typeof b.attributes.id?f+="#"+b.attributes.id[0]:"undefined"!=typeof b.attributes["class"]&&(f+="."+b.attributes["class"][0].replace(/\s/,"."))),!a||"undefined"!=typeof b.attributes&&"undefined"!=typeof b.attributes.id||(f+=":nth-child("+a+")"),b.selector.push(f),b.selector},parseHtml:function(b){if("undefined"==typeof Tautologistics)return!1;b=b.replace(/<!doctype ([^>]*)>/g,"");var a=new Tautologistics.NodeHtmlParser.HtmlBuilder(function(){},{});(new Tautologistics.NodeHtmlParser.Parser(a)).parseComplete(b);
b=a.dom;return this.traverse(b,this.addSelector),b}},"undefined"!=typeof Tautologistics)Tautologistics.NodeHtmlParser.HtmlBuilder.prototype.write=function(b){if(this._done&&this.handleCallback(Error("Writing to the builder after done() called is not allowed without a reset()")),this._options.includeLocation&&"attr"!==b.type&&(b.location=this._getLocation(),this._updateLocation(b)),"text"!==b.type||!this._options.ignoreWhitespace||!HtmlBuilder.reWhitespace.test(b.data)){var a,f;if(this._tagStack.last())if(a=
this._tagStack.last(),"tag"===b.type)if("/"===b.name.charAt(0)){if(f=this._options.caseSensitiveTags?b.name.substring(1):b.name.substring(1).toLowerCase(),a.name===f&&(a.closingTag=!0),!this.isEmptyTag(b)){for(b=this._tagStack.length-1;-1<b&&this._tagStack[b--].name!==f;);if(-1<b||this._tagStack[0].name===f)for(;b<this._tagStack.length-1;)this._tagStack.pop()}}else"attr"===b.type?(a.attributes||(a.attributes={}),"undefined"==typeof a.attributes[this._options.caseSensitiveAttr?b.name:b.name.toLowerCase()]&&
(a.attributes[this._options.caseSensitiveAttr?b.name:b.name.toLowerCase()]=[]),a.attributes[this._options.caseSensitiveAttr?b.name:b.name.toLowerCase()].push(b.data)):(f=this._copyElement(b),a.children||(a.children=[]),a.children.push(f),this.isEmptyTag(f)||this._tagStack.push(f),"tag"===b.type&&(this._lastTag=f));else a=this._tagStack.last(),"attr"===b.type?(a.attributes||(a.attributes={}),"undefined"==typeof a.attributes[this._options.caseSensitiveAttr?b.name:b.name.toLowerCase()]&&(a.attributes[this._options.caseSensitiveAttr?
b.name:b.name.toLowerCase()]=[]),a.attributes[this._options.caseSensitiveAttr?b.name:b.name.toLowerCase()].push(b.data)):(a.children||(a.children=[]),a.children.push(this._copyElement(b)));else"tag"===b.type?"/"!==b.name.charAt(0)&&(f=this._copyElement(b),f.closingTag=!0,this.dom.push(f),this.isEmptyTag(f)||this._tagStack.push(f),this._lastTag=f):"attr"===b.type&&this._lastTag?(this._lastTag.attributes||(this._lastTag.attributes={}),"undefined"==typeof this._lastTag.attributes[this._options.caseSensitiveAttr?
b.name:b.name.toLowerCase()]&&(this._lastTag.attributes[this._options.caseSensitiveAttr?b.name:b.name.toLowerCase()]=[]),this._lastTag.attributes[this._options.caseSensitiveAttr?b.name:b.name.toLowerCase()].push(b.data)):this.dom.push(this._copyElement(b))}};a.components.htmlTagValidator=function(){var b,a,f,e,h,k,t=/[dD]/,l=/[a-z0-9-]/,g=/^\x3c!--.*--\x3e/,q="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),v=["pre","code","textarea","script","style"],
z=["p","li","tr","th","td"],A=function(b){var d=Error("Ending tag not found for: "+b.name+" at line: "+b.line+" char: "+b["char"]+" starting tags: "+f[0].name);throw d.lineData=b,d;},m=function(h,t,g){l.test(h)?a+=h:"/"===h?b=w:"!"===h?(a="",b=Z):-1<q.indexOf(a)?k.strict_self_closing_tags?b=n:(a="",b=u):(f.push({name:a,line:t+1,"char":g}),-1<v.indexOf(a)?(a="",--e,b=X):(a="",--e,b=r))},n=function(e,f,h){if("/"===e)a="",b=y;else if("\x3e"===e)throw e={name:a,line:f+1,"char":h},f=Error("Ending `/` not found for: `"+
e.name+"` at line: "+e.line+" char: "+e["char"]),f.lineData=e.name,f;},r=function(a){"\x3e"===a&&(b=y)},u=function(a){"\x3c"===a&&(b=m)},w=function(e){function h(){var e=f.pop();e.name===a?b=u:-1<z.indexOf(e.name)?h():A(e)}l.test(e)?a+=e:(h(),a="")},x=function(a){"/"===a?b=w:(--e,b=m)},y=function(a){"\x3c"===a&&(b=x)},X=function(a){"\x3c"===a&&(b=Y)},Y=function(a){"/"===a&&(b=B)},B=function(e){l.test(e)?a+=e:(e=f.pop(),e.name===a?b=u:A(e),a="")},Z=function(f){t.test(f)?(a="",b=u):(e-=3,b=C)},C=function(a,
e,c){h||(h={content:"",line:e+1,"char":c+1,name:"comment"});h.content+=a;g.test(h.content)&&(h=null,b=u)};return function(t,q){var l=null;try{var g,p=t.split("\n");b=u;a="";f=[];h=null;k=q||{};for(var v=0,m=p.length;m>v;v++)for(e=0,g=p[v].length;g>e&&b;e++)b(p[v][e],v,e);if(h){var n=Error("Comment ending not found for: `comment` at line: "+h.line+" char: "+h["char"]);throw n.lineData=h,n;}if(0<f.length){var W=f[f.length-1];-1===z.indexOf(W.name)&&A(W)}l=null}catch(aa){l=aa.message}finally{return l}}}();
a.components.label=function(d,a,f,e){a.get("$scope").each(function(){var h=b(this);h.find(e.selector).each(function(){a.add(f(b(this).parent("label").length&&h.find("label[for\x3d"+b(this).attr("id")+"]").length&&d.containsReadableText(b(this).parent("label"))||d.containsReadableText(h.find("label[for\x3d"+b(this).attr("id")+"]"))?{element:this,expected:b(this).closest(".quail-test").data("expected"),status:"passed"}:{element:this,expected:b(this).closest(".quail-test").data("expected"),status:"failed"}))})})};
a.components.labelProximity=function(d,a,f,e){var h=a.get("$scope");h.find(e.selector).each(function(){var d=h.find("label[for\x3d"+b(this).attr("id")+"]").first();a.add(f(d.length&&b(this).parent().is(d.parent())?{element:this,expected:b(this).closest(".quail-test").data("expected"),status:"passed"}:{element:this,expected:b(this).closest(".quail-test").data("expected"),status:"failed"}))})};a.components.language={maximumDistance:300,textDirection:{rtl:/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,
ltr:/[\u0041-\u007A]|[\u00C0-\u02AF]|[\u0388-\u058F]/gm},textDirectionChanges:{rtl:/[\u200E]|&rlm;/gm,ltr:/[\u200F]|&lrm;/gm},scripts:{basicLatin:{regularExpression:/[\u0041-\u007F]/g,languages:"ceb en eu ha haw id la nr nso so ss st sw tlh tn ts xh zu af az ca cs cy da de es et fi fr hr hu is it lt lv nl no pl pt ro sk sl sq sv tl tr ve vi".split(" ")},arabic:{regularExpression:/[\u0600-\u06FF]/g,languages:["ar","fa","ps","ur"]},cryllic:{regularExpression:/[\u0400-\u04FF]|[\u0500-\u052F]/g,languages:"bg kk ky mk mn ru sr uk uz".split(" ")}},
scriptSingletons:{bn:/[\u0980-\u09FF]/g,bo:/[\u0F00-\u0FFF]/g,el:/[\u0370-\u03FF]/g,gu:/[\u0A80-\u0AFF]/g,he:/[\u0590-\u05FF]/g,hy:/[\u0530-\u058F]/g,ja:/[\u3040-\u309F]|[\u30A0-\u30FF]/g,ka:/[\u10A0-\u10FF]/g,km:/[\u1780-\u17FF]|[\u19E0-\u19FF]/g,kn:/[\u0C80-\u0CFF]/g,ko:/[\u1100-\u11FF]|[\u3130-\u318F]|[\uAC00-\uD7AF]/g,lo:/[\u0E80-\u0EFF]/g,ml:/[\u0D00-\u0D7F]/g,mn:/[\u1800-\u18AF]/g,or:/[\u0B00-\u0B7F]/g,pa:/[\u0A00-\u0A7F]/g,si:/[\u0D80-\u0DFF]/g,ta:/[\u0B80-\u0BFF]/g,te:/[\u0C00-\u0C7F]/g,th:/[\u0E00-\u0E7F]/g,
zh:/[\u3100-\u312F]|[\u2F00-\u2FDF]/g},getDocumentLanguage:function(b,c){var f=navigator.language||navigator.userLanguage;return"undefined"!=typeof a.options.language&&(f=a.options.language),b.parents("[lang]").length&&(f=b.parents("[lang]:first").attr("lang")),"undefined"!=typeof b.attr("lang")&&(f=b.attr("lang")),f=f.toLowerCase().trim(),c?f.split("-")[0]:f}};a.components.placeholder=function(d,a,f,e){var h=function(d,e){a.add(f({element:d,expected:b(d).closest(".quail-test").data("expected"),status:e}))};
a.get("$scope").find(e.selector).each(function(){var a="";if("none"===b(this).css("display")&&!b(this).is("title"))return void h(this,"inapplicable");if("undefined"!=typeof e.attribute){if(("undefined"==typeof b(this).attr(e.attribute)||"tabindex"===e.attribute&&0>=b(this).attr(e.attribute))&&!e.content)return void h(this,"failed");b(this).attr(e.attribute)&&"undefined"!==b(this).attr(e.attribute)&&(a+=b(this).attr(e.attribute))}if(("undefined"==typeof e.attribute||!e.attribute||e.content)&&(a+=b(this).text(),
b(this).find("img[alt]").each(function(){a+=b(this).attr("alt")})),"string"==typeof a&&0<a.length){var a=d.cleanString(a),c=/^([0-9]*)(k|kb|mb|k bytes|k byte)$/g.exec(a.toLowerCase());c&&c[0].length?h(this,"failed"):e.empty&&d.isUnreadable(a)?h(this,"failed"):-1<d.strings.placeholders.indexOf(a)?h(this,"failed"):h(this,"passed")}else e.empty&&"number"!=typeof a&&h(this,"failed")})};a.components.resolveExpectation=function(d,a){var f,e=b(d).closest(".quail-test"),h=e.data("expected");a||(f=e.data("expected"));
var k="string"==typeof h&&h.split("|");if(a&&0===k.length&&-1<h.indexOf(":")&&(k=[h]),0<k.length&&1===d.nodeType)for(var t,l=0,g=k.length;g>l;++l)if(h=k[l].split(":"),a){if(h[0]===a){if(!h[1]||"ignore"===h[1])return;f=h[1]}}else if(t=b(h[0],e),1===t.length&&d===t.get(0)){if(!h[1]||"ignore"===h[1])return;f=h[1]}return f};a.components.selector=function(d,a,f,e){this.get("$scope").each(function(){var f=b(this),k=b(this).find(e.selector);k.length?k.each(function(){var f,h=b(this);f=e.test&&!h.is(e.test)?
"passed":"failed";a.add(d.lib.Case({element:this,expected:h.closest(".quail-test").data("expected"),status:f}))}):a.add(d.lib.Case({element:void 0,expected:f.data("expected")||f.find("[data-expected]").data("expected"),status:e.test?"inapplicable":"passed"}))})};a.statistics={setDecimal:function(b,a){var f=Math.pow(10,a||0);return a?Math.round(f*b)/f:b},average:function(b,c){for(var f=b.length,e=0;f--;)e+=b[f];return a.statistics.setDecimal(e/b.length,c)},variance:function(b,c){for(var f=a.statistics.average(b,
c),e=b.length,h=0;e--;)h+=Math.pow(b[e]-f,2);return h/=b.length,a.statistics.setDecimal(h,c)},standardDeviation:function(b,c){var f=Math.sqrt(a.statistics.variance(b,c));return a.statistics.setDecimal(f,c)}};a.components.textStatistics={cleanText:function(b){return b.replace(/[,:;()\-]/," ").replace(/[\.!?]/,".").replace(/[ ]*(\n|\r\n|\r)[ ]*/," ").replace(/([\.])[\. ]+/,"$1").replace(/[ ]*([\.])/,"$1").replace(/[ ]+/," ").toLowerCase()},sentenceCount:function(b){return b.split(".").length+1},wordCount:function(b){return b.split(" ").length+
1},averageWordsPerSentence:function(b){return this.wordCount(b)/this.sentenceCount(b)},averageSyllablesPerWord:function(a){var c=this,f=0,e=c.wordCount(a);return e?(b.each(a.split(" "),function(b,a){f+=c.syllableCount(a)}),f/e):0},syllableCount:function(b){return(b=b.replace(/(?:[^laeiouy]es|ed|[^laeiouy]e)$/,"").match(/[aeiouy]{1,2}/g))&&0!==b.length?b.length:1}};a.components.video={isVideo:function(a){var c=!1;return b.each(this.providers,function(){a.is(this.selector)&&this.isVideo(a)&&(c=!0)}),
c},findVideos:function(a,c){b.each(this.providers,function(f,e){a.find(this.selector).each(function(){var a=b(this);e.isVideo(a)&&e.hasCaptions(a,c)})})},providers:{youTube:{selector:"a, iframe",apiUrl:"http://gdata.youtube.com/feeds/api/videos/?q\x3d%video\x26caption\x26v\x3d2\x26alt\x3djson",isVideo:function(b){return!1!==this.getVideoId(b)?!0:!1},getVideoId:function(b){var a=b.is("iframe")?"src":"href";return(b=b.attr(a).match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&\?]*).*/))&&
11===b[7].length?b[7]:!1},hasCaptions:function(a,c){var f=this.getVideoId(a);b.ajax({url:this.apiUrl.replace("%video",f),async:!1,dataType:"json",success:function(b){c(a,0<b.feed.openSearch$totalResults.$t)}})}},flash:{selector:"object",isVideo:function(a){var c=!1;return 0===a.find("param").length?!1:(a.find("param[name\x3dflashvars]").each(function(){-1<b(this).attr("value").search(/\.(flv|mp4)/i)&&(c=!0)}),c)},hasCaptions:function(a,c){var f=!1;a.find("param[name\x3dflashvars]").each(function(){(-1<
b(this).attr("value").search("captions")&&-1<b(this).attr("value").search(".srt")||-1<b(this).attr("value").search("captions.pluginmode"))&&(f=!0)});c(a,f)}},videoElement:{selector:"video",isVideo:function(b){return b.is("video")},hasCaptions:function(d,c){var f=d.find("track[kind\x3dsubtitles], track[kind\x3dcaptions]");if(!f.length)return void c(d,!1);var e=a.components.language.getDocumentLanguage(d,!0);d.parents("[lang]").length&&(e=d.parents("[lang]").first().attr("lang").split("-")[0]);var h=
!1;return f.each(function(){if(!b(this).attr("srclang")||b(this).attr("srclang").toLowerCase()===e){h=!0;try{404===b.ajax({url:b(this).attr("src"),type:"HEAD",async:!1,error:function(){}}).status&&(h=!1)}catch(a){}}}),h?void c(d,!0):void c(d,!1)}}}};a.strings.colors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",
chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",
dimgray:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",
lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",
mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",
seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};a.strings.languageCodes="bh bi nb bs br bg my es ca km ch ce ny ny zh za cu cu cv kw co cr hr cs da dv dv nl dz en eo et ee fo fj fi nl fr ff gd gl lg ka de ki el kl gn gu ht ht ha he hz hi ho hu is io ig id ia ie iu ik ga it ja jv kl kn kr ks kk ki rw ky kv kg ko kj ku kj ky lo la lv lb li li li ln lt lu lb mk mg ms ml dv mt gv mi mr mh ro ro mn na nv nv nd nr ng ne nd se no nb nn ii ny nn ie oc oj cu cu cu or om os os pi pa ps fa pl pt pa ps qu ro rm rn ru sm sg sa sc gd sr sn ii sd si si sk sl so st nr es su sw ss sv tl ty tg ta tt te th bo ti to ts tn tr tk tw ug uk ur ug uz ca ve vi vo wa cy fy wo xh yi yo za zu".split(" ");
a.strings.newWindow=[/new (browser )?(window|frame)/,/popup (window|frame)/];a.strings.placeholders="title,untitled,untitled document,this is the title,the title,content, ,new page,new,nbsp,\x26nbsp;,spacer,image,img,photo,frame,frame title,iframe,iframe title,legend".split(",");a.strings.redundant={inputImage:["submit","button"],link:"link to;link;go to;click here;link;click;more".split(";"),required:["*"]};a.strings.siteMap=["site map","map","sitemap"];a.strings.skipContent=[/(jump|skip) (.*) (content|main|post)/i];
a.strings.suspiciousLinks="click here,click,more,here,read more,download,add,delete,clone,order,view,read,clic aqu\x26iacute;,clic,haga clic,m\x26aacute;s,aqu\x26iacute;,image".split(",");a.strings.symbols=["|","*",/\*/g,"\x3cbr\x3e*","\x26bull;","\x26#8226","♦","›","»","‣","▶",".","◦","✓","◽","•","—","◾"];a.KINGStrongList=function(a,c,f){c.get("$scope").find("strong").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);a.set({status:b(this).parent().is("li")?
"passed":"failed"})})};a.KINGUseCurrencyAsSymbol=function(a,c,f){c.get("$scope").find("p").each(function(e,h){var k="dollar euro pound franc krona rupee ruble dinar".split(" "),k=new RegExp("\\d{1,}\\s*("+k.join("|")+")\\w*\\b|("+k.join("|")+")\\w*\\b\\s*\\d{1,}","ig"),t=a.getTextContents(b(h)),l=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(l);l.set({status:k.test(t)?"failed":"passed"})})};a.KINGUseLongDateFormat=function(a,c,f){c.get("$scope").find("a, article, aside, b, blockquote, caption, cite, dd, del, div, em, figcaption, footer, h1, h2, h3, h4, h5, h6, header, i, label, legend, li, mark, nav, option, p, q, s, section, small, span, strong, sub, summary, sup, td, th, title, u").each(function(a,
d){var k,t=/\d{1,2}([.\/-])\d{1,2}\1\d{2,4}/g,l=d.childNodes,g=!1,q=[],v=0;for(k=l.length;k>v;v++)l[v].nodeType===Node.TEXT_NODE&&q.push(l[v]);for(v=0;v<q.length&&!g;v++)t.test(q[v].nodeValue)&&(g=!0);k=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(k);k.set({status:g?"failed":"passed"})})};a.KINGUsePercentageWithSymbol=function(a,c,f){c.get("$scope").find("p").each(function(e,h){var k=["percent","pct\\."],k=new RegExp("\\d{1,}\\s*("+k.join("|")+")|("+k.join("|")+
")\\s*\\d{1,}","ig"),t=a.getTextContents(b(h)),l=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(l);l.set({status:k.test(t)?"failed":"passed"})})};a.aAdjacentWithSameResourceShouldBeCombined=function(a,c,f){function e(a,d){var e=b(d),h=d.getAttribute("href"),q=e.find("+ a");if(q.length){var q=q[0].getAttribute("href"),g="passed",e=f({element:d,expected:e.closest(".quail-test").data("expected")});h===q&&(g="failed");c.add(e);e.set({status:g})}}function h(a,d){var e=
f({element:d});c.add(e);e.set({status:"inapplicable",expected:b(d).closest(".quail-test").data("expected")})}c.get("$scope").each(function(a,d){var c=b(d),f=0<c.find("a + a").length;c.find("a").each(f?e:h)})};a.aImgAltNotRepetitive=function(a,c,f){c.get("$scope").find("a img[alt]").each(function(){var e=c.add(f({element:this})),h=b(this).closest(".quail-test").data("expected");e.set(a.cleanString(b(this).attr("alt"))===a.cleanString(b(this).parent("a").text())?{expected:h,status:"failed"}:{expected:h,
status:"passed"})})};a.aInPHasADistinctStyle=function(a,c,f){function e(b){return 0<b.outerWidth()-b.innerWidth()||0<b.outerHeight()-b.innerHeight()}function h(a,d){var c=!1,f=["font-weight","font-style"],h=a.css("text-decoration");return"none"!==h&&h!==d.css("text-decoration")&&(c=!0),"rgba(0, 0, 0, 0)"!==a.css("background-color")&&f.push("background"),b.each(f,function(b,e){c||a.css(e)===d.css(e)||(c=!0)}),c||e(a)}var k=/^([\s|-]|>|<|\\|\/|&(gt|lt);)*$/i;c.get("$scope").each(function(){b(this).find("p a[href]:visible").each(function(){var a=
b(this),d=a.closest("p"),e=a.parent(),q=f({element:this,expected:a.closest(".quail-test").data("expected")});c.add(q);var g=a.text().trim(),z=d.clone().find("a[href]").remove().end().text();if(""===g||z.match(k))q.set("status","inapplicable");else if(a.css("color")===d.css("color"))q.set("status","passed");else if(h(a,d))q.set("status","passed");else{var z="block"===a.css("display"),A=a.css("position");z||"relative"!==A&&"static"!==A?q.set("status","passed"):0<a.find("img").length?q.set("status",
"passed"):e.text().trim()===g&&h(e,d)?q.set("status","passed"):q.set("status","failed")}})})};a.aLinkTextDoesNotBeginWithRedundantWord=function(a,c,f){c.get("$scope").find("a").each(function(){var e=b(this),h="";b(this).find("img[alt]").length&&(h+=b(this).find("img[alt]:first").attr("alt"));var h=h+b(this).text(),h=h.toLowerCase(),k;b.each(a.strings.redundant.link,function(b,a){-1<h.search(a)&&(k=c.add(f({element:this,expected:e.closest(".quail-test").data("expected"),status:"failed"})))});k||c.add(f({element:this,
expected:e.closest(".quail-test").data("expected"),status:"passed"}))})};a.aLinkWithNonText=function(a,c,f){c.get("$scope").find("a").each(function(){var e=f({element:this,expected:b(this).closest(".quail-test").data("expected")});if(c.add(e),!b(this).is("a:has(img, object, embed)[href]"))return void e.set({status:"inapplicable"});if(!a.isUnreadable(b(this).text()))return void e.set({status:"passed"});var h=0;b(this).find("img, object, embed").each(function(){(b(this).is("img")&&a.isUnreadable(b(this).attr("alt"))||
!b(this).is("img")&&a.isUnreadable(b(this).attr("title")))&&h++});e.set(b(this).find("img, object, embed").length===h?{status:"failed"}:{status:"passed"})})};a.aLinksAreSeparatedByPrintableCharacters=function(a,c,f){c.get("$scope").find("a").each(function(){var e=c.add(f({element:this})),h=b(this).closest(".quail-test").data("expected");b(this).next("a").length&&e.set(a.isUnreadable(b(this).get(0).nextSibling.wholeText)?{expected:h,status:"failed"}:{expected:h,status:"passed"})})};a.aLinksDontOpenNewWindow=
function(a,c,f){c.get("$scope").find("a").not("[target\x3d_new], [target\x3d_blank]").each(function(){c.add(f({element:this,expected:b(this).closest(".quail-test").data("expected"),status:"passed"}))});c.get("$scope").find("a[target\x3d_new], a[target\x3d_blank]").each(function(){var e=b(this),h=!1,k=0,t=e.text()+" "+e.attr("title"),g="";do g=a.strings.newWindow[k],-1<t.search(g)&&(h=!0),++k;while(!h&&k<a.strings.newWindow.length);c.add(f(h?{element:this,expected:e.closest(".quail-test").data("expected"),
status:"passed"}:{element:this,expected:e.closest(".quail-test").data("expected"),status:"failed"}))})};a.aLinksNotSeparatedBySymbols=function(a,c,f){c.get("$scope").find("a").each(function(){var e=b(this);if(e.next("a").length){var h=e.get(0).nextSibling.wholeText;"string"==typeof h?-1!==a.strings.symbols.indexOf(h.toLowerCase().trim())&&c.add(f({element:this,expected:e.closest(".quail-test").data("expected"),status:"failed"})):c.add(f({element:this,expected:e.closest(".quail-test").data("expected"),
status:"passed"}))}else c.add(f({status:"inapplicable"}))})};a.aMustContainText=function(a,c,f){c.get("$scope").find("a").each(function(){var e=f({element:this,expected:b(this).closest(".quail-test").data("expected")});return c.add(e),b(this).attr("href")&&"none"!==b(this).css("display")?void e.set(a.containsReadableText(b(this),!0)?{status:"passed"}:{status:"failed"}):void e.set({status:"inapplicable"})})};a.aSuspiciousLinkText=function(a,c,f){c.get("$scope").find("a").each(function(){var e=f({element:this,
expected:b(this).closest(".quail-test").data("expected")});if(c.add(e),!b(this).attr("href"))return void e.set({status:"inapplicable"});var h=b(this).text();b(this).find("img[alt]").each(function(){h+=b(this).attr("alt")});e.set(-1<a.strings.suspiciousLinks.indexOf(a.cleanString(h))?{status:"failed"}:{status:"passed"})})};a.animatedGifMayBePresent=function(a,c,f){function e(b,a,d){if("gif"!==a)return void d(!1);var e=new XMLHttpRequest;e.open("GET",b,!0);e.responseType="arraybuffer";e.addEventListener("load",
function(){var b=new Uint8Array(e.response),a=0;if(71!==b[0]||73!==b[1]||70!==b[2]||56!==b[3])return void d(!1);for(var c=0;c<b.length-9;c++)if(0!==b[c]||33!==b[c+1]||249!==b[c+2]||4!==b[c+3]||0!==b[c+8]||44!==b[c+9]&&33!==b[c+9]||a++,1<a)return void d(!0);d(!1)});e.send()}c.get("$scope").find("img").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);var d=b(this).attr("src"),t=b(this).attr("src").split(".").pop().toLowerCase();return"gif"!==
t?void a.set({status:"inapplicable"}):void e(d,t,function(b){return b?void a.set({status:"cantTell"}):void a.set({status:"inapplicable"})})})};a.appletContainsTextEquivalent=function(a,c,f){c.get("$scope").find('applet[alt\x3d""], applet:not(applet[alt])').each(function(){var e=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(e);e.set(a.isUnreadable(b(this).text())?{status:"failed"}:{status:"passed"})})};a.ariaOrphanedContent=function(a,c,f){c.get("$scope").each(function(){var a=
b(this),d=!!a.attr("role"),k=!!a.find("[role]").length;if(!d&&!k)return void c.add(f({expected:a.data("expected"),status:"inapplicable"}));d=a.find("*:not(*[role] *, *[role], script, meta, link)");d.length?d.each(function(){c.add(f({element:this,expected:b(this).closest(".quail-test").data("expected"),status:"failed"}))}):c.add(f({expected:a.data("expected"),status:"passed"}))})};a.audioMayBePresent=function(a,c,f){var e="mp3 m4p ogg oga opus wav wma wv".split(" ");c.get("$scope").each(function(){var a=
b(this),d=!1;a.find("object, audio").each(function(){d=!0;c.add(f({element:this,expected:b(this).closest(".quail-test").data("expected"),status:"cantTell"}))});a.find("a[href]").each(function(){var a=b(this),h=a.attr("href").split(".").pop();-1!==b.inArray(h,e)&&(d=!0,c.add(f({element:this,expected:a.closest(".quail-test").data("expected"),status:"cantTell"})))});d||c.add(f({element:this,status:"inapplicable",expected:b(this).closest(".quail-test").data("expected")}))})};a.blockquoteUseForQuotations=
function(a,c,f){c.get("$scope").find("p").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected")});return c.add(a),0<b(this).parents("blockquote").length?void a.set({status:"inapplicable"}):void a.set(-1<b(this).text().substr(0,1).search(/'|"|«|“|「/)&&-1<b(this).text().substr(-1,1).search(/'|"|»|„|」/)?{status:"failed"}:{status:"passed"})})};a.closingTagsAreUsed=function(a,c,f){a.components.htmlSource.getHtml(function(e,h){a.components.htmlSource.traverse(h,
function(e){if("tag"===e.type&&b.isArray(e.selector)){var h;h=/#/.test(e.selector.slice(-1)[0])?e.selector.slice(-1)[0]:e.selector.join(" \x3e ");var g=b(h,c.get("$scope")).get(0);g||(g=e.raw||h);c.add(f("undefined"!=typeof e.closingTag||e.closingTag||-1!==a.selfClosingTags.indexOf(e.name.toLowerCase())?{element:g,expected:"object"==typeof g&&1===g.nodeType&&b(g).closest(".quail-test").data("expected")||null,status:"passed"}:{element:g,expected:"object"==typeof g&&1===g.nodeType&&b(g).closest(".quail-test").data("expected")||
null,status:"failed"}))}})})};a.colorBackgroundGradientContrast=function(a,c,f,e){var h=a.components.color.colors,k=a.components.color.buildCase;c.get("$scope").each(function(){for(var g=document.evaluate("descendant::text()[normalize-space()]",this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),l=[],p=g.iterateNext();p;)a.components.color.textShouldBeTested(p)&&l.push(p.parentNode),p=g.iterateNext();0===l.length&&k(c,f,null,"inapplicable","","There is no text to evaluate");l.forEach(function(a){var d=
b(a),g,t,l;if(g=h.getBackgroundGradient(d)){for(var p=0;p<g.length;p++)"rgb"===g[p].substr(0,3)&&(g[p]=h.colorToHex(g[p]));t=new Rainbow;t.setSpectrumByArray(g);l=g.length*e.gradientSampleMultiplier;g=!1;for(p=0;!g&&l>p;p++)h.testElmBackground(e.algorithm,d,"#"+t.colourAt(p))||(k(c,f,a,"failed","colorBackgroundGradientContrast","The background gradient makes the text unreadable"),g=!0);g||k(c,f,a,"passed","colorBackgroundGradientContrast","The background gradient does not affect readability")}})})};
a.colorBackgroundImageContrast=function(a,c,f,e){function h(b,a,d,e,c){var f=k.getBackgroundImage(e);if(f){var h=document.createElement("img");h.crossOrigin="Anonymous";h.onload=function(){var f=k.getAverageRGB(h);k.testElmBackground(d.algorithm,e,f)?g(b,a,c,"passed",l,"The element's background image does not affect readability"):g(b,a,c,"failed",l,"The element's background image makes the text unreadable")};h.onerror=h.onabort=function(){g(b,a,c,"cantTell",l,"The element's background image could not be loaded ("+
f+")")};h.src=f}}var k=a.components.color.colors,g=a.components.color.buildCase,l="colorBackgroundImageContrast";c.get("$scope").each(function(){for(var k=document.evaluate("descendant::text()[normalize-space()]",this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),q=[],l=k.iterateNext();l;)a.components.color.textShouldBeTested(l)&&q.push(l.parentNode),l=k.iterateNext();0===q.length&&g(c,f,null,"inapplicable","","There is no text to evaluate");q.forEach(function(a){h(c,f,e,b(a),a)})})};a.colorElementBehindBackgroundGradientContrast=
function(a,c,f,e){var h=a.components.color.colors,k=a.components.color.buildCase;c.get("$scope").each(function(){for(var g=document.evaluate("descendant::text()[normalize-space()]",this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),l=[],p=g.iterateNext();p;)a.components.color.textShouldBeTested(p)&&l.push(p.parentNode),p=g.iterateNext();0===l.length&&k(c,f,null,"inapplicable","","There is no text to evaluate");l.forEach(function(a){var d=b(a),g;if(d.is("option")||(g=h.getBehindElementBackgroundGradient(d)),
g){for(var t=0;t<g.length;t++)"rgb"===g[t].substr(0,3)&&(g[t]=h.colorToHex(g[t]));var l=new Rainbow;l.setSpectrumByArray(g);var p=g.length*e.gradientSampleMultiplier;g=!1;for(t=0;!g&&p>t;t++)g=!h.testElmBackground(e.algorithm,d,"#"+l.colourAt(t));g?k(c,f,a,"failed","colorElementBehindBackgroundGradientContrast","The background gradient of the element behind this element makes the text unreadable"):k(c,f,a,"passed","colorElementBehindBackgroundGradientContrast","The background gradient of the element behind this element does not affect readability")}})})};
a.colorElementBehindBackgroundImageContrast=function(a,c,f,e){function h(b,a,d,e,c){var f;if(e.is("option")||(f=k.getBehindElementBackgroundImage(e)),f){var h=document.createElement("img");h.crossOrigin="Anonymous";h.onload=function(){var f=k.getAverageRGB(h);k.testElmBackground(d.algorithm,e,f)?g(b,a,c,"passed",l,"The background image of the element behind this element does not affect readability"):g(b,a,c,"failed",l,"The background image of the element behind this element makes the text unreadable")};
h.onerror=h.onabort=function(){g(b,a,c,"cantTell",l,"The background image of the element behind this element could not be loaded ("+f+")")};h.src=f}}var k=a.components.color.colors,g=a.components.color.buildCase,l="colorElementBehindBackgroundImageContrast";c.get("$scope").each(function(){for(var k=document.evaluate("descendant::text()[normalize-space()]",this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),q=[],l=k.iterateNext();l;)a.components.color.textShouldBeTested(l)&&q.push(l.parentNode),
l=k.iterateNext();0===q.length&&g(c,f,null,"inapplicable","","There is no text to evaluate");q.forEach(function(a){h(c,f,e,b(a),a)})})};a.colorElementBehindContrast=function(a,c,f,e){var h=a.components.color.colors,k=a.components.color.buildCase;c.get("$scope").each(function(){for(var g=document.evaluate("descendant::text()[normalize-space()]",this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),l=[],p=g.iterateNext();p;)a.components.color.textShouldBeTested(p)&&l.push(p.parentNode),p=g.iterateNext();
0===l.length&&k(c,f,null,"inapplicable","","There is no text to evaluate");l.forEach(function(a){var d=b(a),g;if(d.is("option")||(g=h.getBehindElementBackgroundColor(d)),g)h.testElmBackground(e.algorithm,d,g)?k(c,f,a,"passed","colorElementBehindContrast","The element behind this element does not affect readability"):k(c,f,a,"failed","colorElementBehindContrast","The element behind this element makes the text unreadable")})})};a.colorFontContrast=function(a,c,f,e){var h=a.components.color.colors,k=
a.components.color.buildCase;c.get("$scope").each(function(){for(var g=document.evaluate("descendant::text()[normalize-space()]",this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),l=[],p=g.iterateNext();p;)a.components.color.textShouldBeTested(p)&&l.push(p.parentNode),p=g.iterateNext();0===l.length&&k(c,f,null,"inapplicable","","There is no text to evaluate");l.forEach(function(a){var d=b(a);h.testElmContrast(e.algorithm,d)?k(c,f,a,"passed","colorFontContrast","The font contrast of the text is sufficient for readability"):
k(c,f,a,"failed","colorFontContrast","The font contrast of the text impairs readability")})})};a.contentPositioningShouldNotChangeMeaning=function(a,c,f){var e=["top","left","right","bottom"],h={},k=!1;c.get("$scope").find("*:has(*:quailCss(position\x3dabsolute))").each(function(){h={top:{},left:{},right:{},bottom:{}};k=!1;var a=b(this);a.find("h1, h2, h3, h4, h5, h6, p, blockquote, ol, li, ul, dd, dt").filter(":quailCss(position\x3dabsolute)").each(function(){for(var a=0;a<e.length;a++)"undefined"!=
typeof b(this).css(e[a])&&"auto"!==b(this).css(e[a])&&("undefined"==typeof h[e[a]][b(this).css(e[a])]&&(h[e[a]][b(this).css(e[a])]=0),h[e[a]][b(this).css(e[a])]++)});b.each(e,function(){b.each(h[this],function(){2<this&&!k&&(k=!0,c.add(f({element:a.get(0),expected:a.closest(".quail-test").data("expected"),status:"failed"})))})})})};a.definitionListsAreUsed=function(a,c,f){c.get("$scope").find("dl").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);
a.set({status:"inapplicable"})});c.get("$scope").find("p, li").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);var d=b(this);b(this).find("span, strong, em, b, i").each(function(){if(50>b(this).text().length&&0===d.text().search(b(this).text())){if(b(this).is("span")&&b(this).css("font-weight")===d.css("font-weight")&&b(this).css("font-style")===d.css("font-style"))return void a.set({status:"passed"});a.set({status:"failed"})}})})};a.doNotUseGraphicalSymbolToConveyInformation=
function(a,c,f){c.get("$scope").find(a.textSelector+":not(abbr, acronym)").each(function(){var e=b(this).text();0===e.replace(/[\W\s]+/g,"").length?-1==="✓".indexOf(e)&&c.add(f({element:this,expected:a.components.resolveExpectation(this),status:"failed"})):c.add(f(1===e.length&&0<="?xo[]()+-!*xX".indexOf(e)?{element:this,expected:a.components.resolveExpectation(this),status:"failed"}:{element:this,expected:a.components.resolveExpectation(this),status:"passed"}))});c.get("$scope").find(a.textSelector).filter("abbr, acronym").each(function(){c.add(f({element:this,
expected:a.components.resolveExpectation(this),status:"inapplicable"}))})};a.doctypeProvided=function(a,c,f){a=c.get("$scope").get(0);c.add(f(0!==b(a.doctype).length||document.doctype?{element:a,expected:"pass",status:"passed"}:{element:a,expected:"fail",status:"failed"}))};a.documentAbbrIsUsed=function(b,a,f){b.components.acronym(b,a,f,"abbr")};a.documentAcronymsHaveElement=function(b,a,f){b.components.acronym(b,a,f,"acronym")};a.documentIDsMustBeUnique=function(a,c,f){c.get("$scope").each(function(){0===
b(this).children().length&&c.add(f({element:this,status:"inapplicable",expected:b(this).closest(".quail-test").data("expected")}))});c.get("$scope").find(":not([id])").each(function(){c.add(f({element:this,status:"inapplicable",expected:b(this).closest(".quail-test").data("expected")}))});c.get("$scope").each(function(){var e={};b(this).find("[id]").each(function(){var h=f({element:this,expected:a.components.resolveExpectation(this)});c.add(h);"undefined"==typeof e[b(this).attr("id")]&&0===Object.keys(e).length?
(h.set({status:"inapplicable"}),e[b(this).attr("id")]=b(this).attr("id")):"undefined"==typeof e[b(this).attr("id")]?(h.set({status:"passed"}),e[b(this).attr("id")]=b(this).attr("id")):h.set({status:"failed"})})})};a.documentIsWrittenClearly=function(a,c,f){c.get("$scope").find(a.textSelector).each(function(){var e=a.components.textStatistics.cleanText(b(this).text()),h=f({element:this,expected:b(this).closest(".quail-test").data("expected")});return c.add(h),a.isUnreadable(e)?void h.set({status:"inapplicable"}):
void h.set(60>Math.round(206.835-1.015*a.components.textStatistics.averageWordsPerSentence(e)-84.6*a.components.textStatistics.averageSyllablesPerWord(e))?{status:"failed"}:{status:"passed"})})};a.documentLangIsISO639Standard=function(a,c,f){var e=c.get("$scope").is("html")?c.get("$scope"):c.get("$scope").find("html").first();f=f({element:e[0],expected:e.closest(".quail-test").length?e.closest(".quail-test").data("expected"):e.data("expected")});var h=e.attr("lang"),k=!1;c.add(f);e.is("html")&&"undefined"!=
typeof h?(b.each(a.strings.languageCodes,function(b,a){k||0!==h.indexOf(a)||(k=!0)}),f.set(k?null===h.match(/^[a-z]{2}(-[A-Z]{2})?$/)?{status:"failed"}:{status:"passed"}:{status:"failed"})):f.set({status:"inapplicable"})};a.documentStrictDocType=function(b,a,f){a.add(f("undefined"!=typeof document.doctype&&document.doctype&&-1!==document.doctype.systemId.search("strict")?{element:document,expected:a.get("$scope").data("expected"),status:"passed"}:{element:document,expected:a.get("$scope").data("expected"),
status:"failed"}))};a.documentTitleIsShort=function(b,a,f){b=a.get("$scope").find("head title:first");f=f({element:b,expected:b.closest(".quail-test").data("expected")});return a.add(f),b.length?void f.set({status:150<b.text().length?"failed":"passed"}):void f.set({element:a.get("$scope"),status:"inapplicable"})};a.documentValidatesToDocType=function(){"undefined"==typeof document.doctype};a.documentVisualListsAreMarkedUp=function(a,c,f){var e=RegExp("(^|\x3cbr[^\x3e]*\x3e)[\\s]*(♦|›|»|‣|▶|◦|✓|◽|•|—|◾|-\\D|\\\\|\\*(?!\\*)|\\.\\s|x\\s|\x26bull;|\x26#8226;|\x26gt;|[0-9]+\\.|\\(?[0-9]+\\)|[\\u25A0-\\u25FF]|[IVX]{1,5}\\.\\s)",
"gi");c.get("$scope").find(a.textSelector).each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);var d=b(this).html().match(e);a.set({status:d&&2<d.length?"failed":"passed"})})};a.elementAttributesAreValid=function(a,c,f){a.components.htmlSource.getHtml(function(e,h){h&&a.components.htmlSource.traverse(h,function(a){if("undefined"!=typeof a.raw&&b.isArray(a.selector)){var d,e=!1;d=/#/.test(a.selector.slice(-1)[0])?a.selector.slice(-1)[0]:a.selector.join(" \x3e ");
var h=b(d,c.get("$scope")).get(0);h||(h=a.raw||d);(d=a.raw.match(/\'|\"/g))&&0!==d.length%2&&(c.add(f({element:h,expected:"object"==typeof h&&1===h.nodeType&&b(h).closest(".quail-test").data("expected")||null,status:"failed"})),e=!0);-1<a.raw.search(/([a-z]*)=(\'|\")([a-z\.]*)(\'|\")[a-z]/i)&&(c.add(f({element:h,expected:"object"==typeof h&&1===h.nodeType&&b(h).closest(".quail-test").data("expected")||null,status:"failed"})),e=!0);a=a.raw.split("\x3d");a.shift();b.each(a,function(){-1===this.search(/\'|\"/)&&
-1<this.search(/\s/i)&&(c.add(f({element:h,expected:"object"==typeof h&&1===h.nodeType&&b(h).closest(".quail-test").data("expected")||null,status:"failed"})),e=!0)});e||c.add(f({element:h,expected:"object"==typeof h&&1===h.nodeType&&b(h).closest(".quail-test").data("expected")||null,status:"passed"}))}})})};a.elementsDoNotHaveDuplicateAttributes=function(a,c,f){a.components.htmlSource.getHtml(function(e,h){h&&a.components.htmlSource.traverse(h,function(a){if("tag"===a.type&&b.isArray(a.selector)){var d;
d=/#/.test(a.selector.slice(-1)[0])?a.selector.slice(-1)[0]:a.selector.join(" \x3e ");var e=b(d,c.get("$scope")).get(0);if(e||(e=a.raw||d),"undefined"!=typeof a.attributes){var h=[];b.each(a.attributes,function(b,a){1<a.length&&h.push(a)});c.add(f(h.length?{element:e,expected:"object"==typeof e&&1===e.nodeType&&b(e).closest(".quail-test").data("expected")||null,info:h,status:"failed"}:{element:e,expected:"object"==typeof e&&1===e.nodeType&&b(e).closest(".quail-test").data("expected")||null,info:h,
status:"passed"}))}}})})};a.embedHasAssociatedNoEmbed=function(a,c,f){c.get("$scope").find("embed").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);a.set({status:b(this).find("noembed").length||b(this).next().is("noembed")?"passed":"failed"})})};a.emoticonsExcessiveUse=function(a,c,f){c.get("$scope").find(a.textSelector).each(function(){var e=0,h=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(h);b.each(b(this).text().split(" "),
function(b,c){-1<c.search(a.emoticonRegex)&&e++});h.set(0===e?{status:"inapplicable"}:{status:4<e?"failed":"passed"})})};a.emoticonsMissingAbbr=function(a,c,f){c.get("$scope").find(a.textSelector+":not(abbr, acronym)").each(function(){var e=b(this).clone(),h=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(h);e.find("abbr, acronym").each(function(){b(this).remove()});var k="passed";b.each(e.text().split(" "),function(b,e){-1<e.search(a.emoticonRegex)&&(k="failed")});
h.set({status:k})})};a.focusIndicatorVisible=function(a,c,f){c.get("$scope").find(a.focusElements).each(function(){var e=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(e);var h=b(this).css("border-width");b(this).css("border-color");var k=b(this).css("background-color"),g=b(this).css("box-shadow");if(b(this).focus(),k.trim()!==b(this).css("background-color").trim())return b(this).blur(),void e.set({status:"passed"});k=a.components.convertToPx(b(this).css("border-width"));
return 2<k&&k!==a.components.convertToPx(h)?(b(this).blur(),void e.set({status:"passed"})):(h=b(this).css("box-shadow")&&"none"!==b(this).css("box-shadow")?b(this).css("box-shadow").match(/(-?\d+px)|(rgb\(.+\))/g):!1)&&b(this).css("box-shadow")!==g&&3<a.components.convertToPx(h[3])?(b(this).blur(),void e.set({status:"passed"})):(b(this).blur(),void e.set({status:"failed"}))})};a.formWithRequiredLabel=function(a,c,f){var e,h=a.strings.redundant,k=!1;h.required[h.required.indexOf("*")]=/\*/g;c.get("$scope").each(function(){b(this).find("label").each(function(){var g=
b(this).text().toLowerCase(),l=b(this),p=c.add(f({element:this,expected:a.components.resolveExpectation(this)})),q;for(q in h.required)0<=g.search(q)&&!c.get("$scope").find("#"+l.attr("for")).attr("aria-required")&&p.set({status:"failed"});k=l.css("color")+l.css("font-weight")+l.css("background-color");e&&k!==e&&p.set({status:"failed"});e=k;"undefined"==typeof p.get("status")&&p.set({status:"passed"})})})};a.headerTextIsTooLong=function(a,c,f){c.get("$scope").find("h1, h2, h3, h4, h5, h6").each(function(){var a=
f({element:this,expected:b(this).closest(".quail-test").data("expected"),status:128<b(this).text().replace(/^\s+|\s+$/gm,"").length?"failed":"passed"});c.add(a)})};a.headersAttrRefersToATableCell=function(a,c,f){c.get("$scope").find("table").each(function(){var a=this,d=f({element:a,expected:b(this).closest(".quail-test").data("expected")});c.add(d);var k=b(a).find("th[headers], td[headers]");return 0===k.length?void d.set({status:"inapplicable"}):void k.each(function(){var c=b(this).attr("headers").split(/\s+/);
b.each(c,function(c,f){return""===f||0<b(a).find("th#"+f+",td#"+f).length?void d.set({status:"passed"}):void d.set({status:"failed"})})})})};a.headersUseToMarkSections=function(a,c,f){c.get("$scope").find("p").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);var d=b(this);d.find("strong:first, em:first, i:first, b:first").each(function(){a.set({status:d.text().trim()===b(this).text().trim()?"failed":"passed"})})});c.get("$scope").find("ul, ol").each(function(){var a=
f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);var d=b(this);if(d.prevAll(":header").length||d.find("li").length!==d.find("li:has(a)").length)return void a.set({status:"passed"});var k=!0;d.find("li:has(a)").each(function(){b(this).text().trim()!==b(this).find("a:first").text().trim()&&(k=!1)});k&&a.set({status:"failed"})})};a.headersUsedToIndicateMainContent=function(a,c,f){c.get("$scope").each(function(){var e=b(this),e=a.components.content.findContent(e);c.add(f("undefined"==
typeof e||0!==e.find(":header").length&&e.find(a.textSelector).first().is(":header")?{element:e.get(0),expected:e.closest(".quail-test").data("expected"),status:"passed"}:{element:e.get(0),expected:e.closest(".quail-test").data("expected"),status:"failed"}))})};a.idRefHasCorrespondingId=function(a,c,f){c.get("$scope").find("label[for], *[aria-activedescendant]").each(function(){var a=b(this),d=f({element:this,expected:a.closest(".quail-test").data("expected")});c.add(d);a=a.attr("for")||a.attr("aria-activedescendant");
d.set(0===c.get("$scope").find("#"+a).length?{status:"failed"}:{status:"passed"})})};a.idrefsHasCorrespondingId=function(a,c,f){function e(a){var d=[];return b.each("headers aria-controls aria-describedby aria-flowto aria-labelledby aria-owns".split(" "),function(b,e){var c=a.attr(e);return"undefined"!=typeof c&&!1!==c?void(d=c):void 0}),d.split(/\s+/)}c.get("$scope").each(function(){var a=b(this).find("td[headers], th[headers], [aria-controls], [aria-describedby], [aria-flowto], [aria-labelledby], [aria-owns]");
return 0===a.length?void c.add(f({element:this,expected:b(this).closest(".quail-test").data("expected"),status:"inapplicable"})):void a.each(function(){var a=c.add(f({element:this,expected:b(this).closest(".quail-test").data("expected")})),d=e(b(this)),h="passed";b.each(d,function(a,d){return""!==d&&0===b("#"+d).length?void(h="failed"):void 0});a.set({status:h})})})};a.imgAltIsDifferent=function(a,c,f){c.get("$scope").find("img:not([src])").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected"),
status:"inapplicable"});c.add(a)});c.get("$scope").find("img[alt][src]").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);a.set(b(this).attr("src")===b(this).attr("alt")||b(this).attr("src").split("/").pop()===b(this).attr("alt")?{status:"failed"}:{status:"passed"})})};a.imgAltIsTooLong=function(a,c,f){c.get("$scope").find("img[alt]").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);a.set({status:100<
b(this).attr("alt").length?"failed":"passed"})})};a.imgAltNotEmptyInAnchor=function(a,c,f){c.get("$scope").find("a[href]:has(img)").each(function(){var e=b(this),h=e.text(),k=f({element:this,expected:e.closest(".quail-test").data("expected")});c.add(k);e.find("img[alt]").each(function(){h+=" "+b(this).attr("alt")});k.set(a.isUnreadable(h)?{status:"failed"}:{status:"passed"})})};a.imgAltTextNotRedundant=function(a,c,f){var e={};c.get("$scope").find("img[alt]").each(function(){var a=f({element:this,
expected:b(this).closest(".quail-test").data("expected")});c.add(a);"undefined"==typeof e[b(this).attr("alt")]?e[b(this).attr("alt")]=b(this).attr("src"):a.set(e[b(this).attr("alt")]!==b(this).attr("src")?{status:"failed"}:{status:"passed"})})};a.imgGifNoFlicker=function(a,c,f){c.get("$scope").find('img[src$\x3d".gif"]').each(function(){var a=b(this),d=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(d);b.ajax({url:a.attr("src"),dataType:"text",success:function(b){d.set(-1!==
b.search("NETSCAPE2.0")?{status:"failed"}:{status:"inapplicable"})}})})};a.imgHasLongDesc=function(a,c,f){c.get("$scope").find("img[longdesc]").each(function(){var e=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(e);e.set(b(this).attr("longdesc")!==b(this).attr("alt")&&a.validURL(b(this).attr("longdesc"))?{status:"passed"}:{status:"failed"})})};a.imgImportantNoSpacerAlt=function(a,c,f){c.get("$scope").find("img[alt]").each(function(){var e=b(this).width()?b(this).width():
parseInt(b(this).attr("width"),10),h=b(this).height()?b(this).height():parseInt(b(this).attr("height"),10),k=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(k);k.set(a.isUnreadable(b(this).attr("alt").trim())&&0<b(this).attr("alt").length&&50<e&&50<h?{status:"failed"}:{status:"passed"})})};a.imgMapAreasHaveDuplicateLink=function(a,c,f){var e={};c.get("$scope").find("a").each(function(){e[b(this).attr("href")]=b(this).attr("href")});c.get("$scope").find("img[usemap]").each(function(){var a=
f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);var d=b(this),g=c.get("$scope").find(d.attr("usemap"));g.length||(g=c.get("$scope").find('map[name\x3d"'+d.attr("usemap").replace("#","")+'"]'));g.length?g.find("area").each(function(){a.set("undefined"==typeof e[b(this).attr("href")]?{status:"failed"}:{status:"passed"})}):a.set({status:"inapplicable"})})};a.imgNonDecorativeHasAlt=function(a,c,f){c.get("$scope").find("img[alt]").each(function(){var e=f({element:this,
expected:b(this).closest(".quail-test").data("expected")});c.add(e);e.set(a.isUnreadable(b(this).attr("alt"))&&(100<b(this).width()||100<b(this).height())?{status:"failed"}:{status:"passed"})})};a.imgWithMathShouldHaveMathEquivalent=function(a,c,f){c.get("$scope").find("img:not(img:has(math), img:has(tagName))").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);b(this).parent().find("math").length||a.set({status:"failed"})})};a.inputCheckboxRequiresFieldset=
function(a,c,f){c.get("$scope").find(":checkbox").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);a.set(b(this).parents("fieldset").length?{status:"passed"}:{status:"failed"})})};a.inputImageAltIsNotFileName=function(a,c,f){c.get("$scope").find("input[type\x3dimage][alt]").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);a.set(b(this).attr("src")===b(this).attr("alt")?{status:"failed"}:
{status:"passed"})})};a.inputImageAltIsShort=function(a,c,f){c.get("$scope").find("input[type\x3dimage]").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);a.set(100<b(this).attr("alt").length?{status:"failed"}:{status:"passed"})})};a.inputImageAltNotRedundant=function(a,c,f){c.get("$scope").find("input[type\x3dimage][alt]").each(function(){var e=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(e);e.set(-1<a.strings.redundant.inputImage.indexOf(a.cleanString(b(this).attr("alt")))?
{status:"failed"}:{status:"passed"})})};a.inputWithoutLabelHasTitle=function(a,c,f){c.get("$scope").each(function(){var e=b(this).find("input, select, textarea");if(0===e.length)return e=f({element:this,expected:b(this).closest(".quail-test").data("expected"),status:"inapplicable"}),void c.add(e);e.each(function(){var e=f({element:this,expected:b(this).closest(".quail-test").data("expected")});return c.add(e),"none"===b(this).css("display")?void e.set({status:"inapplicable"}):void e.set(c.get("$scope").find("label[for\x3d"+
b(this).attr("id")+"]").length||b(this).attr("title")&&!a.isUnreadable(b(this).attr("title"))?{status:"passed"}:{status:"failed"})})})};a.labelMustBeUnique=function(a,c,f){var e={};c.get("$scope").find("label[for]").each(function(){"undefined"==typeof e[b(this).attr("for")]&&(e[b(this).attr("for")]=0);e[b(this).attr("for")]++});c.get("$scope").find("label[for]").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected"),status:1===e[b(this).attr("for")]?"passed":
"failed"});c.add(a)})};a.labelsAreAssignedToAnInput=function(a,c,f){c.get("$scope").find("label").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);a.set(b(this).attr("for")&&c.get("$scope").find("#"+b(this).attr("for")).length&&c.get("$scope").find("#"+b(this).attr("for")).is(":input")?{status:"passed"}:{status:"failed"})})};a.languageChangesAreIdentified=function(a,c,f){var e,h,k,g,l,p=c.get("$scope"),q=a.components.language.getDocumentLanguage(p,
!0),v=function(e,c,f,h){var k;e=e.find("[lang\x3d"+c+"]");return 0===e.length?!0:(f=f.length,e.each(function(){(k=a.getTextContents(b(this)).match(h))&&(f-=k.length)}),0<f)},z=function(b){return b.attr("lang")?b.attr("lang").trim().toLowerCase().split("-")[0]:b.parents("[lang]").length?b.parents("[lang]:first").attr("lang").trim().toLowerCase().split("-")[0]:a.components.language.getDocumentLanguage(p,!0)};p.find(a.textSelector).each(function(){g=this;k=b(this);q=z(k);e=a.getTextContents(k);l=!1;
b.each(a.components.language.scriptSingletons,function(b,p){b!==q&&(h=e.match(p),h&&h.length&&v(k,b,h,p)&&(c.add(f({element:g,expected:a.components.resolveExpectation(g),info:{language:b},status:"failed"})),l=!0))});b.each(a.components.language.scripts,function(b,p){-1===p.languages.indexOf(q)&&(h=e.match(p.regularExpression),h&&h.length&&v(k,b,h,void 0)&&(c.add(f({element:g,expected:a.components.resolveExpectation(g),info:{language:b},status:"failed"})),l=!0))});"undefined"!=typeof guessLanguage&&
!k.find("[lang]").length&&400<k.text().trim().length&&guessLanguage.info(k.text(),function(b){b[0]!==q&&(c.add(f({element:g,expected:a.components.resolveExpectation(g),info:{language:b[0]},status:"failed"})),l=!0)});l||c.add(f({element:g,expected:a.components.resolveExpectation(g),status:"passed"}))})};a.languageDirAttributeIsUsed=function(a,c,f){function e(){var e=b(this),g=e.attr("dir");g||(g=e.closest("[dir]").attr("dir")||g);"string"==typeof g&&(g=g.toLowerCase());"undefined"==typeof h[g]&&(g=
"ltr");var l="ltr"===g?"rtl":"ltr";if(g=a.getTextContents(e).match(h[l])){var p=g.length;e.find("[dir\x3d"+l+"]").each(function(){var b=e[0].textContent.match(h[l]);b&&(p-=b.length)});c.add(f({element:this,expected:a.components.resolveExpectation(this)})).set({status:0<p?"failed":"passed"})}}var h=a.components.language.textDirection;c.get("$scope").each(function(){b(this).find(a.textSelector).each(e)})};a.languageDirectionPunctuation=function(a,c,f){var e=c.get("$scope"),h={},k=/[\u2000-\u206F]|[!"#$%&'\(\)\]\[\*+,\-.\/:;<=>?@^_`{|}~]/gi,
g=e.attr("dir")?e.attr("dir").toLowerCase():"ltr",l="ltr"===g?"rtl":"ltr",p=a.components.language.textDirection;e.each(function(){b(this).find(a.textSelector).each(function(){var e=b(this);g=e.attr("dir")?e.attr("dir").toLowerCase():e.parent("[dir]").first().attr("dir")?e.parent("[dir]").first().attr("dir").toLowerCase():g;"undefined"==typeof p[g]&&(g="ltr");l="ltr"===g?"rtl":"ltr";var e=a.getTextContents(e),v=e.match(p[l]),z=c.add(f({element:this,expected:a.components.resolveExpectation(this)}));
if(!v)return void z.set({status:"inapplicable"});for(var m=e.search(p[l]),v=e.lastIndexOf(v.pop());h=k.exec(e);)if(h.index===m-1||h.index===v+1)return void z.set({status:"failed"});z.set({status:"passed"})})})};a.languageUnicodeDirection=function(a,c,f){var e=c.get("$scope"),h=a.components.language.textDirection,k=a.components.language.textDirectionChanges;e.each(function(){b(this).find(a.textSelector).each(function(){var e=c.add(f({element:this,expected:a.components.resolveExpectation(this)})),g=
b(this).text().trim(),p=-1!==g.substr(0,1).search(h.ltr)?"rtl":"ltr";e.set(-1===g.search(h[p])?{status:"inapplicable"}:-1!==g.search(k[p])?{status:"passed"}:{status:"failed"})})})};a.linkHasAUniqueContext=function(a,c,f){function e(a){var d=b(a);a=d;for(d=h(d.text());!a.is("body, html")&&-1===p.indexOf(a.css("display"));)a=a.parent();var e=a.text().match(/[^\.!\?]+[\.!\?]+/g);null===e&&(e=[a.text()]);for(a=0;a<e.length;a+=1)if(-1!==h(e[a]).indexOf(d))return e[a].trim()}function h(b){var a=b.match(/\w+/g);
return null!==a&&(b=a.join(" ")),b.toLowerCase()}function k(b,a){return h(""+b)!==h(""+a)}function g(a,d){if(a.href===d.href||k(a.title,d.title))return!1;var c=b(a).closest("p, li, dd, dt, td, th"),f=b(d).closest("p, li, dd, dt, td, th");if(0!==c.length&&0!==f.length&&k(l(c),l(f))||c.is("td, th")&&!f.is("td, th"))return!1;if(c.is("td, th")&&f.is("td, th")){var t=!1,p=[];if(c.tableHeaders().each(function(){p.push(h(b(this).text()))}),f.tableHeaders().each(function(){var a=h(b(this).text()),a=p.indexOf(a);
-1===a?t=!0:p.splice(a,1)}),t||0<p.length)return!1}return k(e(a),e(d))?!1:!0}function l(b){var a=b.text();return b.find("img[alt]").each(function(){a+=" "+this.alt.trim()}),h(a)}var p="block flex list-item table table-caption table-cell".split(" ");c.get("$scope").each(function(){var a=b(this),d=a.find("a[href]:visible"),e={};0===d.length&&(a=f({element:this,status:"inapplicable",expected:a.closest(".quail-test").data("expected")}),c.add(a));d.each(function(){var a=l(b(this));"undefined"==typeof e[a]&&
(e[a]=[]);e[a].push(this)});b.each(e,function(a,d){for(;1<d.length;){for(var e=d.pop(),h=!1,k=d.length-1;0<=k;--k){var q=d[k];g(e,q)&&(h=!0,d.splice(k,1),c.add(f({element:q,status:"failed",expected:b(q).closest(".quail-test").data("expected")})))}c.add(f({element:e,status:h?"failed":"passed",expected:b(e).closest(".quail-test").data("expected")}))}1===d.length&&c.add(f({element:d[0],status:"passed",expected:b(d[0]).closest(".quail-test").data("expected")}))})})};a.listNotUsedForFormatting=function(a,
c,f){c.get("$scope").find("ol, ul").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);a.set(2>b(this).find("li").length?{status:"failed"}:{status:"passed"})})};a.listOfLinksUseList=function(a,c,f){var e=/(♦|›|»|‣|▶|.|◦|>|✓|◽|•|—|◾|\||\*|&bull;|&#8226;)/g;c.get("$scope").find("a").each(function(){var h=c.add(f({element:this})),k=b(this).closest(".quail-test").data("expected");if(b(this).next("a").length){var g=b(this).get(0).nextSibling.wholeText.replace(e,
"");h.set(!b(this).parent("li").length&&a.isUnreadable(g)?{expected:k,status:"failed"}:{expected:k,status:"passed"})}})};a.newWindowIsOpened=function(a,c,f){var e,h=window.open;window.open=function(a){c.each(function(b,d){-1<d.get("element").href.indexOf(a)&&d.set("status","failed")})};c.get("$scope").find("a").each(function(){e=f({element:this,expected:a.components.resolveExpectation(this)});c.add(e);b(this).trigger("click")});window.open=h};a.pNotUsedAsHeader=function(a,c,f){c.get("$scope").find("p").each(function(){var e=
f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(e);1<=b(this).text().search(".")&&e.set({status:"inapplicable"});var h=!1;if(1>b(this).text().search(".")){var k=b(this),g=k.prev("p");b.each(a.suspectPHeaderTags,function(a,d){k.find(d).length&&k.find(d).each(function(){b(this).text().trim()===k.text().trim()&&(e.set({status:"failed"}),h=!0)})});g.length&&b.each(a.suspectPCSSStyles,function(a,b){return k.css(b)!==g.css(b)?(e.set({status:"failed"}),h=!0,!1):void 0});
"bold"===k.css("font-weight")&&(e.set({status:"failed"}),h=!0)}h||e.set({status:"passed"})})};a.paragraphIsWrittenClearly=function(a,c,f){c.get("$scope").find("p").each(function(){var e=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(e);var h=a.components.textStatistics.cleanText(b(this).text());e.set(60>Math.round(206.835-1.015*a.components.textStatistics.averageWordsPerSentence(h)-84.6*a.components.textStatistics.averageSyllablesPerWord(h))?{status:"failed"}:{status:"passed"})})};
a.preShouldNotBeUsedForTabularLayout=function(a,c,f){c.get("$scope").find("pre").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);var d=b(this).text().split(/[\n\r]+/);a.set({status:1<d.length&&-1<b(this).text().search(/\t/)?"failed":"passed"})})};a.scriptFocusIndicatorVisible=function(){a.html.find(a.focusElements).each(function(){var d,c,f,e;f=[];for(var h=0,k=document.styleSheets.length;k>h;++h){d=document.styleSheets[h];c=d.cssRules||d.rules;
for(var g=c.length-1;0<=g;--g)e=c[g],e.selectorText&&-1!==e.selectorText.indexOf(":focus")&&(f.push({css:e.cssText,index:g,sheet:h}),d.deleteRule(g))}c=b(this).css("border-width");b(this).css("border-color");e=b(this).css("background-color");d=b(this).css("box-shadow");k=b(this).css("outline-width");b(this).css("outline-color");b(this).focus();g=a.components.convertToPx(b(this).css("outline-width"));if(2<g&&g!==a.components.convertToPx(k)||e!==b(this).css("background-color"))return void b(this).blur();
e=a.components.convertToPx(b(this).css("border-width"));if(2<e&&e!==a.components.convertToPx(c)||(c=b(this).css("box-shadow")&&"none"!==b(this).css("box-shadow")?b(this).css("box-shadow").match(/(-?\d+px)|(rgb\(.+\))/g):!1)&&b(this).css("box-shadow")!==d&&3<a.components.convertToPx(c[3]))return void b(this).blur();b(this).blur();for(c=f.length-1;0<=c;--h)d=f[c],document.styleSheets[d.sheet].insertRule(d.css,d.index);a.testFails("scriptFocusIndicatorVisible",b(this))})};a.selectJumpMenu=function(a,
c,f){var e=c.get("$scope");0!==e.find("select").length&&e.find("select").each(function(){c.add(f(0===b(this).parent("form").find(":submit").length&&a.components.hasEventListener(b(this),"change")?{element:this,expected:b(this).closest(".quail-test").data("expected"),status:"failed"}:{element:this,expected:b(this).closest(".quail-test").data("expected"),status:"passed"}))})};a.siteMap=function(a,c,f){var e=!0,h=f({element:c.get("$scope").get(0),expected:c.get("$scope").data("expected")});c.add(h);
c.get("$scope").find("a").each(function(){if("passed"!==h.get("status")){var c=b(this).text().toLowerCase();return b.each(a.strings.siteMap,function(a,b){return-1<c.search(b)?void(e=!1):void 0}),!1===e?void h.set({status:"failed"}):void(e&&h.set({status:"passed"}))}})};a.skipToContentLinkProvided=function(a,c,f){c.get("$scope").each(function(){var e=b(this),h=!1;e.find('a[href*\x3d"#"]').each(function(){if(!h)for(var k=b(this),g=k.attr("href").split("#").pop(),g=e.find("#"+g),l=a.strings.skipContent.slice();!h&&
l.length;){var p=l.pop();if(-1<k.text().search(p)&&g.length){if(k.focus(),k.is(":visible")&&"hidden"!==k.css("visibility"))return h=!0,void c.add(f({element:k.get(0),expected:k.closest(".quail-test").data("expected"),status:"passed"}));k.blur()}}});h||c.add(f({expected:e.data("expected")||e.find("[data-expected]").data("expected"),status:"failed"}))})};a.tabIndexFollowsLogicalOrder=function(a,c,f){c.get("$scope").each(function(){var e=0;b(this).find("[tabindex]").each(function(){var h=b(this).attr("tabindex");
c.add(f(0<=parseInt(h,10)&&parseInt(h,10)!==e+1?{element:this,expected:a.components.resolveExpectation(this),status:"failed"}:{element:this,expected:a.components.resolveExpectation(this),status:"passed"}));e++})})};a.tableAxisHasCorrespondingId=function(a,c,f){c.get("$scope").find("[axis]").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);a.set(0===b(this).parents("table").first().find("th#"+b(this).attr("axis")).length?{status:"failed"}:{status:"passed"})})};
a.tableHeaderLabelMustBeTerse=function(a,c,f){c.get("$scope").find("th, table tr:first td").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);a.set(20<b(this).text().length&&(!b(this).attr("abbr")||20<b(this).attr("abbr").length)?{status:"failed"}:{status:"passed"})})};a.tableLayoutDataShouldNotHaveTh=function(a,c,f){c.get("$scope").find("table").each(function(){var e=f({element:this,expected:b(this).closest(".quail-test").data("expected")});
c.add(e);e.set(0!==b(this).find("th").length?a.isDataTable(b(this))?{status:"passed"}:{status:"failed"}:{status:"inapplicable"})})};a.tableLayoutHasNoCaption=function(a,c,f){c.get("$scope").find("table").each(function(){c.add(f(b(this).find("caption").length?a.isDataTable(b(this))?{element:this,expected:a.components.resolveExpectation(this),status:"passed"}:{element:this,expected:a.components.resolveExpectation(this),status:"failed"}:{element:this,expected:a.components.resolveExpectation(this),status:"inapplicable"}))})};
a.tableLayoutHasNoSummary=function(a,c,f){c.get("$scope").each(function(){b(this).find("table[summary]").each(function(){c.add(f({element:this,expected:b(this).closest(".quail-test").data("expected")})).set(a.isDataTable(b(this))||a.isUnreadable(b(this).attr("summary"))?{status:"passed"}:{status:"failed"})})})};a.tableLayoutMakesSenseLinearized=function(a,c,f){c.get("$scope").find("table").each(function(){a.isDataTable(b(this))||c.add(f({element:this,expected:a.components.resolveExpectation(this),
status:"failed"}))})};a.tableNotUsedForLayout=function(a,c,f){c.get("$scope").find("table").each(function(){c.add(f(a.isDataTable(b(this))?{element:this,expected:a.components.resolveExpectation(this),status:"passed"}:{element:this,expected:a.components.resolveExpectation(this),status:"failed"}))})};a.tableShouldUseHeaderIDs=function(a,c,f){c.get("$scope").find("table").each(function(){var e=b(this),h=!1;a.isDataTable(e)&&(e.find("th").each(function(){h||b(this).attr("id")||(h=!0,c.add(f({element:this,
expected:a.components.resolveExpectation(this),status:"failed"})))}),h||e.find("td[header]").each(function(){h||b.each(b(this).attr("header").split(" "),function(b,g){e.find("#"+g).length||(h=!0,c.add(f({element:this,expected:a.components.resolveExpectation(this),status:"failed"})))})}))})};a.tableSummaryDoesNotDuplicateCaption=function(a,c,f){c.get("$scope").find("table[summary]:has(caption)").each(function(){c.add(f(a.cleanString(b(this).attr("summary"))===a.cleanString(b(this).find("caption:first").text())?
{element:this,expected:a.components.resolveExpectation(this),status:"failed"}:{element:this,expected:a.components.resolveExpectation(this),status:"passed"}))})};a.tableSummaryIsNotTooLong=function(a,c,f){c.get("$scope").find("table[summary]").each(function(){100<b(this).attr("summary").trim().length&&c.add(f({element:this,expected:a.components.resolveExpectation(this),status:"failed"}))})};a.tableUseColGroup=function(a,c,f){c.get("$scope").find("table").each(function(){a.isDataTable(b(this))&&!b(this).find("colgroup").length&&
c.add(f({element:this,expected:a.components.resolveExpectation(this),status:"failed"}))})};a.tableUsesAbbreviationForHeader=function(a,c,f){c.get("$scope").find("th:not(th[abbr])").each(function(){20<b(this).text().length&&c.add(f({element:this,expected:a.components.resolveExpectation(this),status:"failed"}))})};a.tableUsesScopeForRow=function(a,c,f){c.get("$scope").find("table").each(function(){b(this).find("td:first-child").each(function(){var e=b(this).next("td");("bold"===b(this).css("font-weight")&&
"bold"!==e.css("font-weight")||b(this).find("strong").length&&!e.find("strong").length)&&c.add(f({element:this,expected:a.components.resolveExpectation(this),status:"failed"}))});b(this).find("td:last-child").each(function(){var e=b(this).prev("td");("bold"===b(this).css("font-weight")&&"bold"!==e.css("font-weight")||b(this).find("strong").length&&!e.find("strong").length)&&c.add(f({element:this,expected:a.components.resolveExpectation(this),status:"failed"}))})})};a.tableWithMoreHeadersUseID=function(a,
c,f){c.get("$scope").find("table:has(th)").each(function(){var e=0;b(this).find("tr").each(function(){b(this).find("th").length&&e++;1<e&&!b(this).find("th[id]").length&&c.add(f({element:this,expected:a.components.resolveExpectation(this),status:"failed"}))})})};a.tabularDataIsInTable=function(a,c,f){c.get("$scope").find("pre").each(function(){c.add(f(0<=b(this).html().search("\t")?{element:this,expected:a.components.resolveExpectation(this),status:"failed"}:{element:this,expected:a.components.resolveExpectation(this),
status:"passed"}))})};a.tagsAreNestedCorrectly=function(a,b,f){a.components.htmlSource.getHtml(function(e){e=a.components.htmlTagValidator(e);var h=f({expected:b.get("$scope").filter(".quail-test").eq(0).data("expected")});b.add(h);h.set(e?{status:"failed",html:e}:{status:"passed"})})};a.textIsNotSmall=function(a,c,f){c.get("$scope").find(a.textSelector).each(function(){var e=b(this).css("font-size");0<e.search("em")&&(e=a.components.convertToPx(e));e=parseInt(e.replace("px",""),10);c.add(f(10>e?
{element:this,expected:a.components.resolveExpectation(this),status:"failed"}:{element:this,expected:a.components.resolveExpectation(this),status:"passed"}))})};a.userInputMayBeRequired=function(a,c,f){c.get("$scope").each(function(){var a=f({element:this,expected:b(this).closest(".quail-test").data("expected")});c.add(a);var d=b(this).find("form"),k=0,g=b(this).find("input:not(form input, [type\x3dbutton],[type\x3dreset],[type\x3dimage],[type\x3dsubmit],[type\x3dhidden])");return d.each(function(){var a=
b(this).find("input:not([type\x3dbutton],[type\x3dreset],[type\x3dimage],[type\x3dsubmit],[type\x3dhidden])");1<a.length&&(k=a.length)}),0<k?void a.set({status:"cantTell"}):1<g.length?void a.set({status:"cantTell"}):void a.set({status:"inapplicable"})})};a.videoMayBePresent=function(a,c,f){var e="webm flv ogv ogg avi mov qt wmv asf mp4 m4p m4v mpg mp2 mpeg mpg mpe mpv m2v 3gp 3g2".split(" "),h=["//www.youtube.com/embed/","//player.vimeo.com/video/"];c.get("$scope").each(function(){var a=b(this),d=
!1;a.find("object, video").each(function(){d=!0;c.add(f({element:this,expected:b(this).closest(".quail-test").data("expected"),status:"cantTell"}))});a.find("a[href]").each(function(){var a=b(this),h=a.attr("href").split(".").pop();-1!==b.inArray(h,e)&&(d=!0,c.add(f({element:this,expected:a.closest(".quail-test").data("expected"),status:"cantTell"})))});a.find("iframe").each(function(){-1===this.src.indexOf(h[0])&&-1===this.src.indexOf(h[1])||(d=!0,c.add(f({element:this,expected:a.closest(".quail-test").data("expected"),
status:"cantTell"})))});d||c.add(f({element:this,status:"inapplicable",expected:b(this).closest(".quail-test").data("expected")}))})};a.videosEmbeddedOrLinkedNeedCaptions=function(a,b,f){a.components.video.findVideos(b.get("$scope"),function(e,h){b.add(f(h?{element:e[0],expected:a.components.resolveExpectation(e),status:"passed"}:{element:e[0],expected:a.components.resolveExpectation(e),status:"failed"}))})};a.whiteSpaceInWord=function(a,c,f){var e,h;c.get("$scope").find(a.textSelector).each(function(){h=
b(this).text()?b(this).text().match(/[^\s\\]/g):!1;e=b(this).text()?b(this).text().match(/[^\s\\]\s[^\s\\]/g):!1;c.add(f(h&&e&&3<e.length&&e.length>=h.length/2-2?{element:this,expected:a.components.resolveExpectation(this),status:"failed"}:{element:this,expected:a.components.resolveExpectation(this),status:"passed"}))})};a.whiteSpaceNotUsedForFormatting=function(a,c,f){c.get("$scope").find(a.textSelector).each(function(){var e=c.add(f({element:this,expected:a.components.resolveExpectation(this)}));
if(0===b(this).find("br").length)return void e.set({status:"passed"});var h=b(this).html().toLowerCase().split(/(<br\ ?\/?>)+/),g=0;b.each(h,function(a,b){-1!==b.search(/(\s|\&nbsp;){2,}/g)&&g++});e.set(1<g?{status:"failed"}:{status:"cantTell"})})};a.lib.Case=function(){function a(b){return new a.fn.init(b)}return a.fn=a.prototype={constructor:a,init:function(a){this.listeners={};this.timeout=null;this.attributes=a||{};var b=this;return this.attributes.status&&"untested"!==this.attributes.status?
setTimeout(function(){b.resolve()},0):(this.attributes.status="untested",this.timeout=setTimeout(function(){b.giveup()},350)),this},attributes:null,get:function(a){return this.attributes[a]},set:function(a,b){var d=!1;if("object"==typeof a)for(var h in a)a.hasOwnProperty(h)&&("status"===h&&(d=!0),this.attributes[h]=a[h]);else"status"===a&&(d=!0),this.attributes[a]=b;return d&&this.resolve(),this},hasStatus:function(a){"object"!=typeof a&&(a=[a]);for(var b=this.get("status"),d=0,h=a.length;h>d;++d)if(a[d]===
b)return!0;return!1},resolve:function(){clearTimeout(this.timeout);var a,b=this.attributes.element;b&&b.nodeType&&1===b.nodeType&&(this.attributes.selector=this.defineUniqueSelector(b),this.attributes.html||(this.attributes.html="","HTML"===b.nodeName||"BODY"===b.nodeName?this.attributes.html="\x3c"+b.nodeName+"\x3e":"string"==typeof b.outerHTML&&(a=b.outerHTML.trim().replace(/(\r\n|\n|\r)/gm,"").replace(/>\s+</g,"\x3e\x3c"),200<a.length&&(a=a.substr(0,200)+"... [truncated]"),this.attributes.html=
a)));this.dispatch("resolve",this)},giveup:function(){clearTimeout(this.timeout);this.attributes.status="notTested";this.dispatch("timeout",this)},listenTo:function(a,b,d){d=d.bind(this);a.registerListener.call(a,b,d)},registerListener:function(a,b){this.listeners[a]||(this.listeners[a]=[]);this.listeners[a].push(b)},dispatch:function(a){if(this.listeners[a]&&this.listeners[a].length){var b=[].slice.call(arguments);this.listeners[a].forEach(function(a){a.apply(null,b)})}},defineUniqueSelector:function(a){function d(a){a=
a.className||"";return 0<a.length&&(a=a.split(/\s+/),a=h(a,function(a){return/active|enabled|disabled|first|last|only|collapsed|open|clearfix|processed/.test(a)}),0<a.length)?"."+a.join("."):""}function e(a){var e="",c="",h=!1,g=!0;do{var v="",c=a.id||"";if(0<(c=(0<c.length&&(v="#"+c),v)).length){e=c+" "+e;break}!h&&0<(c=d(a)).length&&(e=c+" "+e,1===b(e).length&&(h=!0));if(g){var g=void 0,v="",m=["href","type"];if("undefined"!=typeof a&&"undefined"!=typeof a.attributes&&null!==a.attributes)for(var n=
0,r=m.length;r>n;n++)(g=a.attributes[m[n]]&&a.attributes[m[n]].value)&&(v+="["+m[n]+'\x3d"'+g+'"]');g=v;0<(c=g).length&&(e=c+e);e=a.nodeName.toLowerCase()+e;g=!1}a=a.parentNode}while(a&&1===a.nodeType&&"BODY"!==a.nodeName&&"HTML"!==a.nodeName);return e.trim()}function h(a,b){for(var d=[],e=0,c=a.length;c>e;e++)b.call(null,a[e])||d.push(a[e]);return d}return a&&e(a)},push:[].push,sort:[].sort,concat:[].concat,splice:[].splice},a.fn.init.prototype=a.fn,a}();a.lib.Section=function(){function b(a,f){return new b.fn.init(a,
f)}return b.fn=b.prototype={constructor:b,init:function(b,d){if(!b)return this;if(this.id=b,d.techniques&&d.techniques.length)for(var e=0,h=d.techniques.length;h>e;++e)this.push(a.lib.Technique(d.techniques[e]));return this},length:0,each:function(a){for(var b=[].slice.call(arguments,1),d=0,h=this.length;h>d;++d)b.unshift(this[d]),b.unshift(d),a.apply(this[d],b);return this},find:function(a){for(var b=0,d=this.length;d>b;++b)if(this[b].get("name")===a)return this[b];return null},set:function(b,d){for(var e=
0,h=this.length;h>e;++e)if(this[e].get("name")===b)return this[e].set(d),this[e];e=a.lib.Test(b,d);return this.push(e),e},addTechnique:function(a){this.push(a)},regiterTechniqueTestResult:function(){},push:[].push,sort:[].sort,splice:[].splice},b.fn.init.prototype=b.fn,b}();a.lib.SuccessCriteria=function(){function d(a){return new d.fn.init(a)}function c(a){return Object.keys(a).length}return d.fn=d.prototype={constructor:d,init:function(a){return this.listeners={},this.attributes=this.attributes||
{},this.attributes.status="untested",this.attributes.results={},this.attributes.totals={},this.set(a||{}),this},length:0,attributes:null,get:function(a){if("$scope"===a){var d=this.attributes.scope,c=b(this.attributes.scope);return this.attributes[a]?this.attributes[a]:d?c:b(document)}return this.attributes[a]},set:function(a,b){if("object"==typeof a)for(var d in a)a.hasOwnProperty(d)&&(this.attributes[d]=a[d]);else this.attributes[a]=b;return this},each:function(a){for(var b=[].slice.call(arguments,
1),d=0,c=this.length;c>d&&(b.unshift(this[d]),b.unshift(d),!1!==a.apply(this[d],b));++d);return this},add:function(a){this.find(a.get("selector"))||this.push(a)},find:function(a){for(var b=0,d=this.length;d>b;++b)if(this[b].get("selector")===a)return this[b];return null},registerTests:function(a){var b=this.get("preEvaluator"),d=!0;"undefined"!=typeof b&&(d=b.call(this,a));d||this.set("status","inapplicable");this.set("tests",a);this.listenTo(a,"complete",this.evaluate)},filterTests:function(b){var d=
new a.lib.TestCollection,c=this.get("name");if(!c)throw Error("Success Criteria instances require a name in order to have tests filtered.");var g=c.split(":")[1];return b.each(function(a,b){var c=b.getGuidelineCoverage("wcag"),f;for(f in c)c.hasOwnProperty(f)&&f===g&&d.add(b)}),d},addConclusion:function(b,d){this.get("results")[b]||(this.get("results")[b]=a.lib.Test());this.get("results")[b].push(d);this.get("totals")[b]||(this.get("totals")[b]=0);++this.get("totals")[b];this.get("totals").cases||
(this.get("totals").cases=0);++this.get("totals").cases},evaluate:function(a,b){if("inapplicable"!==this.get("status")){var d=this,g=this.filterTests(b);0===g.length?this.set("status","noTestCoverage"):(g.each(function(a,b){b.each(function(a,b){d.addConclusion(b.get("status"),b)})}),0===c(this.get("results"))?this.set("status","noResults"):this.set("status","tested"))}this.report()},report:function(){var a=Array.prototype.slice.call(arguments),a=[].concat(["successCriteriaEvaluated",this,this.get("tests")],
a);this.dispatch.apply(this,a)},listenTo:function(a,b,d){d=d.bind(this);a.registerListener.call(a,b,d)},registerListener:function(a,b){this.listeners[a]||(this.listeners[a]=[]);this.listeners[a].push(b)},dispatch:function(a){if(this.listeners[a]&&this.listeners[a].length){var b=[].slice.call(arguments);this.listeners[a].forEach(function(a){a.apply(null,b)})}},push:[].push,sort:[].sort,splice:[].splice},d.fn.init.prototype=d.fn,d}();a.lib.Technique=function(){function a(b,f){return new a.fn.init(b,
f)}return a.fn=a.prototype={constructor:a,init:function(a,b){return this.listeners={},a?(this.attributes=b||{},this.attributes.name=a,this):this},length:0,attributes:{},each:function(a){for(var b=[].slice.call(arguments,1),d=0,h=this.length;h>d;++d)b.unshift(this[d]),b.unshift(d),a.apply(this[d],b);return this},get:function(a){return this.attributes[a]},set:function(a,b){if("object"==typeof a)for(var d in a)a.hasOwnProperty(d)&&(this.attributes[d]=a[d]);else this.attributes[a]=b;return this},addTest:function(){},
report:function(a,b){window.console&&window.console.log(this.get("name"),b.status,b,b[0]&&b[0].status)},listenTo:function(a,b,d){d=d.bind(this);a.registerListener.call(a,b,d)},registerListener:function(a,b){this.listeners[a]||(this.listeners[a]=[]);this.listeners[a].push(b)},dispatch:function(a){if(this.listeners[a]&&this.listeners[a].length){var b=[].slice.call(arguments);this.listeners[a].forEach(function(a){a.apply(null,b)})}},push:[].push,sort:[].sort,splice:[].splice},a.fn.init.prototype=a.fn,
a}();a.lib.Test=function(){function d(a,b){return new d.fn.init(a,b)}function c(a){a="undefined"==typeof a?!0:a;this.each(function(b,d){d.get("status")||(a=!1)});a?(this.testComplete=null,this.attributes.complete=!0,this.determineStatus()):this.testComplete()}function f(a,b,d){var c,f;return function(){var g=this,q=arguments,v=d&&!c;return clearTimeout(c),c=setTimeout(function(){c=null;d||(f=a.apply(g,q))},b),v&&(f=a.apply(g,q)),f}}return d.fn=d.prototype={constructor:d,init:function(a,b){return this.listeners=
{},this.length=0,a?(this.attributes=b||{},this.attributes.name=a,this.attributes.status="untested",this.attributes.complete=!1,this):this},length:0,attributes:null,each:function(a){for(var b=[].slice.call(arguments,1),d=0,c=this.length;c>d;++d)b.unshift(this[d]),b.unshift(d),a.apply(this[d],b);return this},get:function(a){if("$scope"===a){var d=this.attributes.scope,c=b(this.attributes.scope);return this.attributes[a]?this.attributes[a]:d?c:b(document)}return this.attributes[a]},set:function(a,b){var d=
!1;if("object"==typeof a)for(var c in a)a.hasOwnProperty(c)&&("status"===c&&(d=!0),this.attributes[c]=a[c]);else"status"===a&&(d=!0),this.attributes[a]=b;return d&&this.resolve(),this},add:function(a){return this.listenTo(a,"resolve",this.caseResponded),this.listenTo(a,"timeout",this.caseResponded),a.status&&a.dispatch("resolve",a),this.push(a),a},invoke:function(){if(this.testComplete)throw Error("The test "+this.get("name")+" is already running.");if(this.attributes.complete)throw Error("The test "+
this.get("name")+" has already been run.");var b=this.get("type"),d=this.get("options")||{},g=this.get("callback");if(this.testComplete=f(c.bind(this),400),this.testComplete(!1),"custom"===b)if("function"==typeof g)try{g.call(this,a,this,a.lib.Case,d)}catch(t){window.console&&window.console.error&&window.console.error(t)}else{if("custom"!==b||"function"!=typeof a[g])throw Error("The callback "+g+" cannot be invoked.");try{a[g].call(this,a,this,a.lib.Case,d)}catch(l){window.console&&window.console.error&&
window.console.error(l)}}else{if("function"!=typeof a.components[b])throw Error("The component type "+b+" is not defined.");try{a.components[b].call(this,a,this,a.lib.Case,d)}catch(p){window.console&&window.console.error&&window.console.error(p)}}return this.testComplete(),this},findByStatus:function(a){if(a){var b=new d;"string"==typeof a&&(a=[a]);for(var c=0,f=a.length;f>c;++c){var g=a[c];this.each(function(a,d){d.get("status")===g&&b.add(d)})}return b}},findCasesBySelector:function(a){var b=this.groupCasesBySelector();
return b.hasOwnProperty(a)?b[a]:new d},findCaseByHtml:function(b){for(var d,c=0,f=this.length;f>c;++c)if(d=this[c],b===d.get("html"))return d;return a.lib.Case()},groupCasesBySelector:function(){var a={};return this.each(function(b,c){var f=c.get("selector");a[f]||(a[f]=new d);a[f].add(c)}),a},groupCasesByHtml:function(){var a={};return this.each(function(b,c){var f=c.get("html");a[f]||(a[f]=new d);a[f].add(c)}),a},getGuidelineCoverage:function(a){var b=this.get("guidelines");return b&&b[a]||{}},
caseResponded:function(a,b){this.dispatch(a,this,b);"function"==typeof this.testComplete&&this.testComplete()},determineStatus:function(){var b,d=this.get("type");a.components[d]&&"function"==typeof a.components[d].postInvoke&&(b=a.components[d].postInvoke.call(this,this));this.set(!0===b?{status:"passed"}:this.findByStatus(["cantTell"]).length===this.length?{status:"cantTell"}:this.findByStatus(["inapplicable"]).length===this.length?{status:"inapplicable"}:this.findByStatus(["failed","untested"]).length?
{status:"failed"}:{status:"passed"})},resolve:function(){this.dispatch("complete",this)},testComplete:null,listenTo:function(a,b,d){d=d.bind(this);a.registerListener.call(a,b,d)},registerListener:function(a,b){this.listeners[a]||(this.listeners[a]=[]);this.listeners[a].push(b)},dispatch:function(a){if(this.listeners[a]&&this.listeners[a].length){var b=[].slice.call(arguments);this.listeners[a].forEach(function(a){a.apply(null,b)})}},push:[].push,sort:[].sort,concat:[].concat,splice:[].splice},d.fn.init.prototype=
d.fn,d}();a.lib.TestCollection=function(){function b(a){return new b.fn.init(a)}function c(){var a=!0;this.each(function(b,d){d.get("complete")||(a=!1)});a?(this.testsComplete=null,this.dispatch("complete",this)):this.testsComplete()}function f(a,b,d){var c,f;return function(){var g=this,q=arguments,v=d&&!c;return clearTimeout(c),c=setTimeout(function(){c=null;d||(f=a.apply(g,q))},b),v&&(f=a.apply(g,q)),f}}return b.fn=b.prototype={constructor:b,init:function(b,d){if(this.listeners={},d=d||{},!b)return this;
if("object"==typeof b){var c,f;for(f in b)b.hasOwnProperty(f)&&(b[f].scope=b[f].scope||d.scope,c=new a.lib.Test(f,b[f]),this.listenTo(c,"results",this.report),this.push(c))}return this},length:0,run:function(a){var b=this;return a=a||{},this.each(function(d,c){a.preFilter&&b.listenTo(c,"resolve",function(b,d,c){!1===a.preFilter(b,d,c)&&(c.attributes.status="notTested",c.attributes.expected=null)});a.caseResolve&&b.listenTo(c,"resolve",a.caseResolve);a.testComplete&&b.listenTo(c,"complete",a.testComplete)}),
a.testCollectionComplete&&b.listenTo(b,"complete",a.testCollectionComplete),this.testsComplete=f(c.bind(this),500),this.each(function(a,b){b.invoke()}),this.testsComplete(),this},each:function(a){for(var b=[].slice.call(arguments,1),d=0,c=this.length;c>d&&(b.unshift(this[d]),b.unshift(d),!1!==a.apply(this[d],b));++d);return this},add:function(a){this.find(a.get("name"))||this.push(a)},find:function(a){for(var b=0,d=this.length;d>b;++b)if(this[b].get("name")===a)return this[b];return null},findByGuideline:function(a){var c=
{wcag:function(c,f){function h(a,c,e){var f=new b;return this.each(function(b,d){var h=d.get("guidelines");if(h=h[a]&&h[a][c]&&h[a][c].techniques)for(var g=0,k=h.length;k>g;++g)h[g]===e&&(f.listenTo(d,"results",f.report),f.add(d))}),f}var g=c.id,k=f.get("name");return g&&k?h.call(this,a,g,k):void 0}};if(c[a]){var f=[].slice.call(arguments,1);return c[a].apply(this,f)}},findByStatus:function(a){if(a){var c=new b;"string"==typeof a&&(a=[a]);for(var f=0,g=a.length;g>f;++f){var l=a[f];this.each(function(a,
b){b.get("status")===l&&c.add(b)})}return c}},set:function(b,d){for(var c=0,f=this.length;f>c;++c)if(this[c].get("name")===b)return this[c].set(d),this[c];c=a.lib.Test(b,d);return this.push(c),c},testsComplete:null,report:function(){this.dispatch.apply(this,arguments)},listenTo:function(a,b,d){d=d.bind(this);a.registerListener.call(a,b,d)},registerListener:function(a,b){this.listeners[a]||(this.listeners[a]=[]);this.listeners[a].push(b)},dispatch:function(a){if(this.listeners[a]&&this.listeners[a].length){var b=
[].slice.call(arguments);this.listeners[a].forEach(function(a){a.apply(null,b)})}},push:[].push,sort:[].sort,splice:[].splice},b.fn.init.prototype=b.fn,b}();a.lib.WCAGGuideline=function(){var b=function(a){return new b.fn.init(a)};return b.fn=b.prototype={constructor:b,init:function(b){if(!b)return this;this.techniques=[];var d,e,h,g,m;if("object"==typeof b&&b.guidelines){d=b.guidelines;for(var l in d)if(d.hasOwnProperty(l)){if(e=d[l],e.techniques&&e.techniques.length&&(h=e.techniques,delete e.techniques),
e=a.lib.Section(l,e),h.length)for(var p=0,q=h.length;q>p;++p){if(g=h[p],!b.techniques[g])throw Error("Definition for Technique "+g+" is missing from the guideline specification");(m=this.findTechnique(g))||(m=a.lib.Technique(g,b.techniques[g]),this.techniques.push(m));e.addTechnique(m)}this.push(e)}}return this},length:0,each:function(a){for(var b=[].slice.call(arguments,1),d=0,h=this.length;h>d;++d)b.unshift(this[d]),b.unshift(d),a.apply(this[d],b);return this},find:function(a){for(var b=0,d=this.length;d>
b;++b)if(this[b].get("name")===a)return this[b];return null},findTechnique:function(a){for(var b=0,d=this.techniques.length;d>b;++b)if(this.techniques[b].get("name")===a)return this.techniques[b];return null},set:function(b,d){for(var e=0,h=this.length;h>e;++e)if(this[e].get("name")===b)return this[e].set(d),this[e];e=a.lib.Test(b,d);return this.push(e),e},evaluate:function(){},results:function(){},push:[].push,sort:[].sort,splice:[].splice},b.fn.init.prototype=b.fn,b}();(function(a){function b(c,
e,f,h){f=e.attr("rowspan")||1;e=e.attr("scope");if("col"===e)return!0;if(-1!==p.indexOf(e))return!1;for(e=0;e<f*c[h].length-1;e+=1)if(a(c[h+e%f][~~(e/f)]).is("td"))return!1;return!0}function f(e,f,h,g){var k=f.attr("colspan")||1,l=f.attr("scope");if("row"===l)return!0;if(-1!==p.indexOf(l)||b(e,f,h,g))return!1;for(f=0;f<k*e.length-1;f+=1)if(a(e[~~(f/k)][h+f%k]).is("td"))return!1;return!0}function e(e,h,g,k,l){var p,m,n=a(),t=a(e[g][h]),r=[];for(t.is("th")?(m=[{cell:t,x:h,y:g}],p=!0):(p=!1,m=[]);0<=
h&&0<=g;h+=k,g+=l){var u=a(e[g][h]),w=0===k?"col":"row";if(u.is("th")){p=!0;m.push({cell:u,x:h,y:g});var x=!1;-1===l&&f(e,u,h,g)||-1===k&&b(e,u,h,g)?x=!0:a.each(r,function(b,c){var e=+u.attr(w+"span")||1,f=+a(c.cell).attr(w+"span")||1;e===f&&(-1===l&&c.x===h||-1===k&&c.y===g)&&(x=!0)});!1===x&&(n=n.add(u))}else u.is("td")&&!0===p&&(p=!1,r.push(m),m=a())}return n}function h(b){var c=b.closest("table");b=b.attr("headers").split(/\s/);var e=a();return a.each(b,function(b,f){e=e.add(a("th#"+f+", td#"+
f,c))}),e}function g(a,b){for(var d,c=0,e=0;void 0===d;){if(void 0===a[e])return;a[e][c]===b[0]?d=c:c+1===a[e].length?(e+=1,c=0):c+=1}return{x:d,y:e}}function m(b,c){var f,h=a(),l=g(c,b),p=+b.attr("rowspan")||1,n=+b.attr("colspan")||1;for(f=0;n>f;f++)h=h.add(e(c,l.x+f,l.y,0,-1));for(f=0;p>f;f++)h=h.add(e(c,l.x,l.y+f,-1,0));return h}function l(b,c){var e=g(c,b),f=a();b.closest("thead, tbody, tfoot").find("th[scope\x3drowgroup]").each(function(){var b=g(c,a(this));b.x<=e.x&&b.y<=e.y&&(f=f.add(this))})}
var p=["row","col","rowgroup","colgroup"];a.fn.getTableMap=function(){var b=[];return this.find("tr").each(function(c){"undefined"==typeof b[c]&&(b[c]=[]);var e=b[c];a(this).children().each(function(){var f,h,g;h=a(this);var k=+h.attr("rowspan")||1,l=+h.attr("colspan")||1;h=0;for(g=e.length;g>=h;h+=1)void 0===f&&void 0===e[h]&&(f=h);h=0;for(g=l*k;g>h;h+=1)void 0===b[c+~~(h/l)]&&(b[c+~~(h/l)]=[]),b[c+~~(h/l)][f+h%l]=this})}),b};a.fn.tableHeaders=function(){var b=a();return this.each(function(){var c=
a(this);if(!c.is(":not(td, th)"))if(c.is("[headers]"))b=b.add(h(c));else{var e=c.closest("table").getTableMap();b=b.add(m(c,e)).add(l(c,e))}}),b.not(":empty").not(this)}})(jQuery);a.lib.wcag2=function(){function d(d,f,g,m){var l,p,q=[];f=b.map(f,function(b){return new a.lib.wcag2.Criterion(b,g,m,d.subject)});b.each(f,function(a,b){q.push.apply(q,b.getTests())});p=[];l=[];b.each(q,function(a,b){-1===p.indexOf(b.title.en)&&(p.push(b.title.en),l.push(b))});b(a.html).quail({accessibilityTests:l,testCollectionComplete:c(f,
d.testCollectionComplete)})}function c(a,d){return function(c,f){"complete"===c&&(f=b.map(a,function(a){return a.getResult(f)}));d(c,f)}}var f={async:!1,dataType:"json"};return{run:function(a){a.wcag2Structure&&a.accessibilityTests&&a.preconditionTests?d(a,a.wcag2Structure,a.accessibilityTests,a.preconditionTests):b.when(b.ajax(a.jsonPath+"/wcag2.json",f),b.ajax(a.jsonPath+"/tests.json",f),b.ajax(a.jsonPath+"/preconditions.json",f)).done(function(b,c,f){d(a,b[0],c[0],f[0])})}}}();a.guidelines.wcag.successCriteria["1.1.1"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:1.1.1",preEvaluator:function(){return!0}});return a.techniques={},a.failures={F3:"Using CSS to include images that convey important information",F13:"Having a text alternative that does not include information that is conveyed by color differences in the image",F20:"Not updating text alternatives when changes to non-text content occur",F30:"Using text alternatives that are not alternatives (e.g., filenames or placeholder text)",F38:"Not marking up decorative images in HTML in a way that allows assistive technology to ignore them",
F39:'Providing a text alternative that is not null (e.g., alt\x3d"spacer" or alt\x3d"image") for images that should be ignored by assistive technology',F65:'Omitting the alt attribute or text alternative on img elements, area elements, and input elements of type "image"',F67:"Providing long descriptions for non-text content that does not serve the same purpose or does not present the same information",F71:"Using text look-alikes to represent text without providing a text alternative",F72:"Using ASCII art without providing a text alternative"},
a}(a);a.guidelines.wcag.successCriteria["1.2.1"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.2.1",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["1.2.2"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.2.2",preEvaluator:function(){return!0}});return a.techniques={G93:"Providing open (always visible) captions",G87:"Providing closed captions"},a.failures={F74:"Not labeling a synchronized media alternative to text as an alternative",
F75:"Providing synchronized media without captions when the synchronized media presents more information than is presented on the page",F8:"Captions omitting some dialogue or important sound effects"},a}(a);a.guidelines.wcag.successCriteria["1.2.3"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.2.3",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["1.2.4"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.2.4",preEvaluator:function(){return!0}});
return a.techniques={G9:"Creating captions for live synchronized media",G93:"Providing open (always visible) captions",G87:"Providing closed captions using any readily available media format that has a video player that supports closed captioning"},a.failures={},a}(a);a.guidelines.wcag.successCriteria["1.2.5"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.2.5",preEvaluator:function(){return!0}});return a.techniques={G78:"Providing a second, user-selectable, audio track that includes audio descriptions",
G173:"Providing a version of a movie with audio descriptions","SC1.2.8":"Providing a movie with extended audio descriptions",G8:"Providing a movie with extended audio descriptions",G203:"Using a static text alternative to describe a talking head video"},a.failures={},a}(a);a.guidelines.wcag.successCriteria["1.2.7"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.2.7",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["1.2.8"]=function(a){a=
a.lib.SuccessCriteria({name:"wcag:1.2.8",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["1.2.9"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.2.9",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["1.3.1"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.3.1",preEvaluator:function(){return!0}});return a.techniques={G115:"Using semantic elements to mark up structure AND H49: Using semantic markup to mark emphasized or special text",
G117:"Using text to convey information that is conveyed by variations in presentation of text",G140:"Separating information and structure from presentation to enable different presentations",G138:"Using semantic markup whenever color cues are used",H48:"Using ol, ul and dl for lists or groups of links",H42:"Using h1-h6 to identify headings",SCR21:"Using functions of the Document Object Model (DOM) to add content to a page (Scripting)",H51:"Using table markup to present tabular information",H39:"Using caption elements to associate data table captions with data tables",
H73:"Using the summary attribute of the table element to give an overview of data tables",H63:"Using the scope attribute to associate header cells and data cells in data tables",H43:"Using id and headers attributes to associate data cells with header cells in data tables",H44:"Using label elements to associate text labels with form controls",H65:"Using the title attribute to identify form controls when the label element cannot be used",H71:"Providing a description for groups of form controls using fieldset and legend elements",
H85:"Using OPTGROUP to group OPTION elements inside a SELECT",ARIA11:"Using ARIA landmarks to identify regions of a page (ARIA)",ARIA12:"Using role\x3dheading to identify headings (ARIA)",ARIA13:"Using aria-labelledby to name regions and landmarks (ARIA)",ARIA16:"Using aria-labelledby to provide a name for user interface controls (ARIA)",ARIA17:"Using grouping roles to identify related form controls (ARIA)"},a.failures={F2:"Using changes in text presentation to convey information without using the appropriate markup or text",
F17:"Insufficient information in DOM to determine one-to-one relationships (e.g., between labels with same id) in HTML",F42:"Using scripting events to emulate links in a way that is not programmatically determinable",F43:"Using structural markup in a way that does not represent relationships in the content",F87:"Inserting non-decorative content by using :before and :after pseudo-elements and the content property in CSS",F46:"Using th elements, caption elements, or non-empty summary attributes in layout tables",
F48:"Using the pre element to markup tabular information",F90:"Incorrectly associating table headers and content via the headers and id attributes",F91:"Not correctly marking up table headers",F33:"Using white space characters to create multiple columns in plain text content",F34:"Using white space characters to format tables in plain text content",F68:"Association of label and user interface controls not being programmatically determinable"},a}(a);a.guidelines.wcag.successCriteria["1.3.2"]=function(a){a=
a.lib.SuccessCriteria({name:"wcag:1.3.2",preEvaluator:function(){return!0}});return a.techniques={G57:"Ordering the content in a meaningful sequence (scope: for all the content in the Web page)",H34:"Using a Unicode right-to-left mark (RLM) or left-to-right mark (LRM) to mix text direction inline (languageUnicodeDirection)",H56:"Using the dir attribute on an inline element to resolve problems with nested directional runs",C6:"Positioning content based on structural markup (CSS)",C8:"Using CSS letter-spacing to control spacing within a word",
C27:"Making the DOM order match the visual order (CSS)"},a.failures={F49:"Using an HTML layout table that does not make sense when linearized",F32:"Using white space characters to control spacing within a word (whiteSpaceInWord)",F1:"Changing the meaning of content by positioning information with CSS",F34:"Using white space characters to format tables in plain text content (tabularDataIsInTable)",F33:"Using white space characters to create multiple columns in plain text content (tabularDataIsInTable)"},
a}(a);a.guidelines.wcag.successCriteria["1.3.3"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.3.3",preEvaluator:function(){return!0}});return a.techniques={G96:"Providing textual identification of items that otherwise rely only on sensory information to be understood"},a.failures={F14:"Identifying content only by its shape or location",F26:"Using a graphical symbol alone to convey information"},a}(a);a.guidelines.wcag.successCriteria["1.4.1"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.4.1",
preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["1.4.2"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.4.2",preEvaluator:function(){return!!b("audio, video, object, embed").length}});return a.techniques={G60:"Playing a sound that turns off automatically within three seconds",G170:"Providing a control near the beginning of the Web page that turns off sounds that play automatically",G171:"Playing sounds only on user request"},a.failures=
{F23:"Playing a sound longer than 3 seconds where there is no mechanism to turn it off"},a}(a);a.guidelines.wcag.successCriteria["1.4.3"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.4.3",preEvaluator:function(){return!0}});return a.techniques={G148:"Not specifying background color, not specifying text color, and not using technology features that change those defaults",G174:"Providing a control with a sufficient contrast ratio that allows users to switch to a presentation that uses sufficient contrast",
G18:"Ensuring that a contrast ratio of at least 4.5:1 exists between text (and images of text) and background behind the text for situation A AND G145: Ensuring that a contrast ratio of at least 3:1 exists between text (and images of text) and background behind the text for situation B"},a.failures={F24:"Specifying foreground colors without specifying background colors or vice versa",F83:"Using background images that do not provide sufficient contrast with foreground text (or images of text)"},a}(a);
a.guidelines.wcag.successCriteria["1.4.4"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.4.4",preEvaluator:function(){return!0}});return a.techniques={G142:"Using a technology that has commonly-available user agents that support zoom",C12:"Using percent for font sizes",C13:"Using named font sizes",C14:"Using em units for font, sizes",SCR34:"Calculating size and ,position in a way that scales with text size (Scripting)",G146:"Using liquid layout",G178:"Providing controls on the Web page that allow users to incrementally change the size of all text on the page up to 200 percent",
G179:"Ensuring that there is no loss of content or functionality when the text resizes and text containers do not change their width"},a.failures={F69:"Resizing visually rendered text up to 200 percent causes the text, image or controls to be clipped, truncated or obscured",F80:"Text-based form controls do not resize when visually rendered text is resized up to 200%"},a}(a);a.guidelines.wcag.successCriteria["1.4.5"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.4.5",preEvaluator:function(){return!!document.querySelectorAll("img, map").length}});
return a.techniques={C22:"Using CSS to control visual presentation of text (CSS)",C30:"Using CSS to replace text with images of text and providing user interface controls to switch",G140:"Separating information and structure from presentation to enable different presentations"},a.failures={},a}(a);a.guidelines.wcag.successCriteria["1.4.6"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.4.6",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["1.4.7"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:1.4.7",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["1.4.8"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.4.8",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["1.4.9"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:1.4.9",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["2.1.1"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:2.1.1",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["2.1.2"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.1.2",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["2.1.3"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.1.3",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["2.2.1"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:2.2.1",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["2.2.2"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.2.2",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["2.2.3"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.2.3",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["2.2.4"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:2.2.4",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["2.2.5"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.2.5",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["2.3.1"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.3.1",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["2.3.2"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:2.3.2",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["2.4.1"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.4.1",preEvaluator:function(){return!0}});return a.techniques={G1:"Adding a link at the top of each page that goes directly to the main content area",G123:"Adding a link at the beginning of a block of repeated content to go to the end of the block",G124:"Adding links at the top of the page to each area of the content",
H69:"Providing heading elements at the beginning of each section of content",H70:"Using frame elements to group blocks of repeated material AND H64: Using the title attribute of the frame and iframe elements",SCR28:"Using an expandable and collapsible menu to bypass block of content"},a.failures={},a}(a);a.guidelines.wcag.successCriteria["2.4.10"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.4.10",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["2.4.2"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:2.4.2",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["2.4.3"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.4.3",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["2.4.4"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.4.4",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["2.4.5"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:2.4.5",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["2.4.6"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.4.6",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["2.4.7"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.4.7",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["2.4.8"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:2.4.8",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["2.4.9"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:2.4.9",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["3.1.1"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.1.1",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["3.1.2"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:3.1.2",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["3.1.3"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.1.3",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["3.1.4"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.1.4",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["3.1.5"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:3.1.5",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["3.1.6"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.1.6",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["3.2.1"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.2.1",preEvaluator:function(){return!0}});return a.techniques={G107:'Using "activate" rather than "focus" as a trigger for changes of context'},
a.failures={F52:"Opening a new window as soon as a new page is loaded",F55:"Using script to remove focus when focus is received"},a}(a);a.guidelines.wcag.successCriteria["3.2.2"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.2.2",preEvaluator:function(){return!0}});return a.techniques={G80:"Providing a submit button to initiate a change of context",H32:"Providing submit buttons",H84:"Using a button with a select element to perform an action",G13:"Describing what will happen before a change to a form control that causes a change of context to occur is made",
SCR19:"Using an onchange event on a select element without causing a change of context"},a.failures={F36:"Automatically submitting a form and presenting new content without prior warning when the last field in the form is given a value",F37:"Launching a new window without prior warning when the status of a radio button, check box or select list is changed",F76:"Providing instruction material about the change of context by change of setting in a user interface element at a location that users may bypass"},
a}(a);a.guidelines.wcag.successCriteria["3.2.3"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.2.3",preEvaluator:function(){return!0}});return a.techniques={G61:"Presenting repeated components in the same relative order each time they appear"},a.failures={F66:"Presenting navigation links in a different relative order on different pages"},a}(a);a.guidelines.wcag.successCriteria["3.2.4"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.2.4",preEvaluator:function(){return!0}});return a.techniques=
{G197:"Using labels, names, and text alternatives consistently for content that has the same functionality AND following the sufficient techniques for Success Criterion 1.1.1 and sufficient techniques for Success Criterion 4.1.2 for providing labels, names, and text alternatives."},a.failures={F31:"Using two different labels for the same function on different Web pages within a set of Web pages"},a}(a);a.guidelines.wcag.successCriteria["3.2.5"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.2.5",
preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["3.3.1"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.3.1",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["3.3.2"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.3.2",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["3.3.3"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.3.3",
preEvaluator:function(){function a(b){return!!this.querySelectorAll('[type\x3d"'+b+'"]').length}function b(a){var c=Object.keys(a)[0];return!!this.querySelectorAll("["+c+'\x3d"'+a[c]+'"]').length}var d="checkbox color date datetime datetime-local email file hidden month number password radio range search tel time url week".split(" "),h=[{required:"required"},{"aria-required":"true"}];return document.querySelectorAll("form").length?d.some(a,document)||h.some(b,document)?!0:void 0:!1}});return a.techniques=
{G83:"Providing text descriptions to identify required fields that were not completed",ARIA2:"Identifying a required field with the aria-required property",ARIA18:"Using aria-alertdialog to Identify Errors (ARIA)",G85:"Providing a text description when user input falls outside the required format or values",G177:"Providing suggested correction text",SCR18:"Providing client-side validation and alert (Scripting)",SCR32:"Providing client-side validation and adding error text via the DOM (Scripting)",
G84:"Providing a text description when the user provides information that is not in the list of allowed values"},a.failures={},a}(a);a.guidelines.wcag.successCriteria["3.3.4"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.3.4",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["3.3.5"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:3.3.5",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["3.3.6"]=
function(a){a=a.lib.SuccessCriteria({name:"wcag:3.3.6",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["4.1.1"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:4.1.1",preEvaluator:function(){return!0}});return a.techniques={},a.failures={},a}(a);a.guidelines.wcag.successCriteria["4.1.2"]=function(a){a=a.lib.SuccessCriteria({name:"wcag:4.1.2",preEvaluator:function(){return!0}});return a.techniques={ARIA14:"Using aria-label to provide an invisible label where a visible label cannot be used",
ARIA16:"Using aria-labelledby to provide a name for user interface controls",G108:"Using markup features to expose the name and role, allow user-settable properties to be directly set, and provide notification of changes using technology-specific techniques below:",H91:"Using HTML form controls and links",H44:"Using label elements to associate text labels with form controls",H64:"Using the title attribute of the frame and iframe elements",H65:"Using the title attribute to identify form controls when the label element cannot be used",
H88:"Using HTML according to spec"},a.failures={F59:"Using script to make div or span a user interface control in HTML without providing a role for the control (This failure may be solved in the future using DHTML roadmap techniques.)",F20:"Not updating text alternatives when changes to non-text content occur",F68:"Association of label and user interface controls not being programmatically determined",F79:"Focus state of a user interface component not being programmatically determinable or no notification of change of focus state available",
F86:"Not providing names for each part of a multi-part form field, such as a US telephone number",F89:"Using null alt on an image where the image is the only content in a link"},a}(a);a.lib.wcag2.Criterion=function(){function d(c,d){var e=a.lib.wcag2.EarlAssertion.getResultPriority,h={result:d};return b.each(c,function(a,b){e(h)<e(b)&&(h.result=b.outcome.result)}),h}return function(c,f,e,h){var g=[],m={},l=c["default"]||"untested",p=c.id;(b.isArray(c.testAggregators)&&(g=b.map(c.testAggregators,function(b){return new a.lib.wcag2.TestAggregator(b,
f,h)})),b.isArray(c.preconditions))&&g.push(new a.lib.wcag2.TestAggregator({type:"stacking",tests:c.preconditions},e,h));return m.getResult=function(c){var e,f=[];return b.each(g,function(a,b){var d=b.getResults(c);f.push.apply(f,d)}),e=new a.lib.wcag2.EarlAssertion({testRequirement:p,outcome:d(f,l),subject:h}),0<f.length&&(e.hasPart=f),e},m.getTests=function(){var a=[];return b.each(g,function(b,c){a.push.apply(a,c.tests)}),a},m}}();a.lib.wcag2.EarlAssertion=function(){function a(c){b.extend(this,
c,e);this.outcome=b.extend({},this.outcome)}var c,f=["untested","inapplicable","passed","cantTell","failed"],e={type:"assertion",subject:c,assertedBy:{type:"earl:Software",name:"QuailJS"},mode:"automated"};return window&&window.location&&(c=window.location.href),a.getResultPriority=function(a){return"object"==typeof a&&(a=a.outcome?a.outcome.result:a.result),f.indexOf(a)},a}();a.lib.wcag2.TestAggregator=function(){function d(a,c){b.each(a,function(a,b){b.each(function(){c.call(this,b,this)})})}function c(a){var c=
[],d=[];return b.each(a,function(a,b){var c=[];b.each(function(){c.push(this.get("element"));l.add(this)});d.push(c)}),b.each(d,function(a,d){if(0===a)return void(c=d);var e=[];b.each(d,function(a,b){-1!==c.indexOf(b)&&e.push(b)});c=e}),c}function f(a){var b=[];return d(a,function(a,c){var d=c.get("element");-1===b.indexOf(d)&&(b.push(d),l.add(c))}),b}function e(c,d){var e=[];return b.each(c,function(b,c){var f=new a.lib.wcag2.EarlAssertion(d);c&&(f.outcome.pointer=l.getPointer(c));e.push(f)}),e}
function h(b,f){var h=jQuery.unique(c(f)),g=e(jQuery.unique(h),{testCase:b.id,outcome:{result:"failed"}});return d(f,function(c,d){var e=d.get("status"),f=a.lib.wcag2.EarlAssertion.getResultPriority,k=g[h.indexOf(d.get("element"))];if(b[e]&&(e=b[e]),k&&f(k)>=f(e))f=k.outcome.pointer,k.outcome={result:e,info:c.get("title")},f&&(k.outcome.pointer=f)}),g}function g(b,c){var h=f(c),k=e(h,{testCase:b.id,outcome:{result:"untested"}});return d(c,function(c,d){var e=d.get("status"),f=a.lib.wcag2.EarlAssertion.getResultPriority,
g=k[h.indexOf(d.get("element"))];b[e]&&(e=b[e]);g&&f(g)<f(e)&&(g.outcome={result:e,info:c.get("title")})}),k}function m(a,c,d){b.extend(this,{id:a.tests.join("+"),subject:d},a);this.tests=b.map(this.tests,function(a){return c[a]})}var l={elms:[],pointers:[],add:function(a){var b;-1===l.elms.indexOf(a.get("element"))&&(a.get("html")&&(b=[{type:"CharSnippetCompoundPointer",chars:a.get("html"),CSSSelector:a.get("selector")}]),l.elms.push(a.get("element")),l.pointers.push(b))},getPointer:function(a){a=
l.elms.indexOf(a);return l.pointers[a]}};return m.prototype.filterDataToTests=function(a){var c=b.map(this.tests,function(a){return a.name}),d=[];return b.each(a,function(a,b){-1!==c.indexOf(b.get("name"))&&d.push(b)}),d},m.prototype.getResults=function(b){var c,d;b=this.filterDataToTests(b);return 1===b.length||"combined"===this.type?c=h(this,b):"stacking"===this.type?c=g(this,b):window&&window.console.error("Unknown type for aggregator "+this.id),c?(0===c.length&&(d=new a.lib.wcag2.EarlAssertion({testCase:this.id,
subject:this.subject,outcome:{result:"inapplicable"}}),c.push(d)),c):void 0},m}()}(jQuery)})();a.prototype=new m;a.prototype.constructor=a;a.prototype.fixesMapping={imgHasAlt:["ImgAlt"],imgImportantNoSpacerAlt:["ImgAlt"],KINGUseLongDateFormat:["DateUnfold"],aAdjacentWithSameResourceShouldBeCombined:["AnchorsMerge"],imgAltNotEmptyInAnchor:["ImgAlt"],imgAltIsDifferent:["ImgAlt"],imgShouldNotHaveTitle:["AttributeRenameDefault"],tableUsesCaption:["AddTableCaption"],imgAltIsTooLong:["ImgAlt"],pNotUsedAsHeader:["ParagraphToHeader"],
headerH1:["ParagraphToHeader"],headerH2:["ParagraphToHeader"],headerH3:["ParagraphToHeader"],headerH4:["ParagraphToHeader"],headerH5:["ParagraphToHeader"],headerH6:["ParagraphToHeader"],tableDataShouldHaveTh:["TableHeaders"],imgWithEmptyAlt:["ImgAltNonEmpty"]};a.prototype.issueDetails={};a.prototype.process=function(a,b,d){var c=window.jQuery,f=a.editor.config.a11ychecker_quailParams||{},e=this;return m.prototype.process.call(this,a,b,function(h){CKEDITOR.tools.extend(f,{reset:!0,guideline:e.config.guideline,
testCollectionComplete:function(c,f){var g=e.getIssuesFromCollection(f,a.editor,h);e.filterIssues(g,b);d&&d(g)}},!0);f.jsonPath||(f.jsonPath=e.jsonPath);c(b.$).quail(f)})};a.prototype.getIssuesFromCollection=function(a,b,d){var c=d||new n,f=this;return a.each(function(a,d){var g=d.get("name");"failed"===d.get("status")&&(f.issueDetails[g]||(f.issueDetails[g]=f.getIssueDetailsFromTest(d,b)),f.addIssuesFromTest(d,c))}),c};a.prototype.getIssueDetailsFromTest=function(a,b){function d(a,b){var c=CKEDITOR.tools.objectKeys(a),
c=E.getPreferredLanguage(b.language,b.defaultLanguage,c);return String(a[c])}var c=[],f=a.get("guidelines").wcag,e=f&&CKEDITOR.tools.objectKeys(f)[0];e&&(c.push("WCAG2.0"),c.push(e),c.push(f[e].techniques.join(",")));f=a.get("title")||{};e=a.get("description")||{};return new u(d(f,b.config),d(e,b.config),c)};a.prototype.addIssuesFromTest=function(a,b){var d=this,c=a.get("name"),f=a.get("testability");a.each(function(a,g){if(d.isValidTestCase(g)){var k,m=g.attributes;"failed"==m.status&&(k=new r({originalElement:new CKEDITOR.dom.element(m.element),
testability:f,id:c},d),b.addItem(k))}})};a.prototype.isValidTestCase=function(a){a=a.attributes.element;return a instanceof HTMLElement&&null!==a.parentNode};a.prototype.getIssueDetails=function(a,b){b(this.issueDetails[a.id])};a.prototype._filterIssue=function(a,b){var d,c=a.originalElement;return 0==c instanceof CKEDITOR.dom.element?!1:(d=c.$,d&&d.tagName?!0:!1)};a.prototype.createConfig=function(a){var b=new V;a=a.config.a11ychecker_quailParams;return a&&a.guideline&&(b.guideline=a.guideline),
b};b(a)}};CKEDITOR.event.implementOn(b._.a11ychecker)},getStylesSkinName:function(){var a="moono-lisa";return"moono"==CKEDITOR.skinName&&(a="moono"),a}});CKEDITOR.plugins.a11ychecker={rev:"74912469eb64a44872768eace7468041d843dee6"}})()}();